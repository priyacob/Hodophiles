"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[69345,21563,55803],{934980:(e,t,n)=>{n.d(t,{CC:()=>o,Ll:()=>l,XF:()=>a});let i=(e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}),o=(e,t)=>i(t/2,e/2,2*Math.random()*Math.PI),a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,l=e=>["@-webkit-keyframes","@keyframes"].map(t=>e.map(e=>t+" "+e).join("\n")).join("\n")},279812:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(616550),o=n(196074),a=n(410150);function l(){let e=(0,i.k6)(),t=(0,a.HG)();return n=>{t?(0,o.Z)(n,{disableOriginCheck:!0}):e.push(n)}}},212515:(e,t,n)=>{n.d(t,{Q:()=>r,Z:()=>c});var i=n(667294),o=n(488792),a=n(477058),l=n(972147),s=n(730212);function r(e,t){let{setViewContextData:n}=(0,a.sV)(),{requestIdentifier:r}=(0,s.B)(),c=(0,o.Z)(),{viewData:d}=(0,a.SU)();(0,i.useEffect)(()=>{e&&(n({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,l.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:r}))},[t])}function c(e){let{children:t,log:n}=e;return r(n),t||null}},644845:(e,t,n)=>{n.d(t,{Z:()=>i});let i=(e,t)=>{let n=new Date;return new Date(1e3*e)<=new Date(n.getFullYear()-(t||18),n.getMonth(),n.getDate())}},705492:(e,t,n)=>{n.d(t,{Z:()=>i});let i=e=>Math.floor(new Date(e).getTime()/1e3)},634757:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);let o=({size:e=56})=>(0,i.jsxs)("svg",{display:"block",fill:"none",fillRule:"evenodd",height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,i.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,i.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,i.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,i.jsx)("path",{d:"M20 20h472v472H20V20z"})]})},608989:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(785893);let o=(0,i.jsx)("svg",{height:"40px",version:"1.1",viewBox:"0 0 40 40",width:"40px",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:(0,i.jsx)("path",{d:"M28.2226562,20.3846154 C29.0546875,20.3846154 30.0976562,19.8048315 30.71875,19.0317864 C31.28125,18.3312142 31.6914062,17.352829 31.6914062,16.3744437 C31.6914062,16.2415766 31.6796875,16.1087095 31.65625,16 C30.7304687,16.0362365 29.6171875,16.640178 28.9492187,17.4494596 C28.421875,18.06548 27.9414062,19.0317864 27.9414062,20.0222505 C27.9414062,20.1671964 27.9648438,20.3121424 27.9765625,20.3604577 C28.0351562,20.3725366 28.1289062,20.3846154 28.2226562,20.3846154 Z M25.2929688,35 C26.4296875,35 26.9335938,34.214876 28.3515625,34.214876 C29.7929688,34.214876 30.109375,34.9758423 31.375,34.9758423 C32.6171875,34.9758423 33.4492188,33.792117 34.234375,32.6325493 C35.1132812,31.3038779 35.4765625,29.9993643 35.5,29.9389701 C35.4179688,29.9148125 33.0390625,28.9122695 33.0390625,26.0979021 C33.0390625,23.6579784 34.9140625,22.5588048 35.0195312,22.474253 C33.7773438,20.6382708 31.890625,20.5899555 31.375,20.5899555 C29.9804688,20.5899555 28.84375,21.4596313 28.1289062,21.4596313 C27.3554688,21.4596313 26.3359375,20.6382708 25.1289062,20.6382708 C22.8320312,20.6382708 20.5,22.5950413 20.5,26.2911634 C20.5,28.5861411 21.3671875,31.013986 22.4335938,32.5842339 C23.3476562,33.9129053 24.1445312,35 25.2929688,35 Z",fill:"#FFFFFF",fillRule:"nonzero",id:"ï£¿"})})})},225771:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var i=n(667294),o=n(883119),a=n(491850),l=n(793874),s=n(107941),r=n(144326),c=n(635284),d=n(730212),u=n(272109),_=n(1006),p=n(410150),h=n(830017),g=n(785893);let m=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},f=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function b({accessibilityModalLabel:e,align:t="center",allowClickAndDrag:n,allowScroll:b=!1,customizedHeading:x,children:y,closeOnOutsideClick:w=!0,footer:v,heading:j,isOpen:k,mobileAccessibilityCloseIconLabel:P,mobileHeadingSize:S,mobileHideCloseIcon:A,mobileIsFooter:C,mobileIsFullscreen:Z,mobileIsFullpage:z,mobileIsSlideUp:T,onDismiss:I,shouldMoveCancelButtonRight:E=!1,subHeading:L,type:M,zIndex:B}){let O=(0,r.ZP)(),{isRTL:R}=(0,d.B)(),F=(0,i.useRef)(!1),[U,$]=(0,i.useState)(!1),{setAppFocusState:D}=(0,h.I)(),N=(0,p.ZP)(),H=(0,l.vs)();if((0,i.useEffect)(()=>(F.current=(0,a.Z)(()=>{F.current&&$(!0)}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&F.current&&(window.cancelAnimationFrame(F.current),F.current=null)}),[]),(0,i.useEffect)(()=>(k?(c.Z.pause(),D(!1),(0,_.My)(`mweb_unauth.mobile_modal.${M||"unknown_type"}.did_mount.is_open.true`)):(c.Z.resume(),D(!0)),()=>{k&&(c.Z.resume(),D(!0),(0,_.My)(`mweb_unauth.mobile_modal.${M||"unknown_type"}.did_mount.is_open.false`))}),[D,k]),(0,i.useEffect)(()=>{let e=k&&!b;return e&&m(),()=>{e&&f()}},[k,b]),!k)return null;let G=P&&!A;return(0,g.jsx)(u.Z,{allowClickAndDrag:n,children:(0,g.jsx)(o.mh,{children:(0,g.jsxs)(o.xu,{"aria-label":e,display:"inlineBlock",height:"100%",position:"relative",role:"dialog",zIndex:B||s.ZM,children:[(0,g.jsx)(o.iP,{accessibilityLabel:O.bt("Mobile sign-up modal mask", "Mobile Signup Modal Mask", "mweb.signup_modal.mask", undefined, true),dataTestId:"mobile-modal-mask-overlay",onTap:({event:e})=>{e.clientX&&e.clientY&&(0,_.tj)(`mweb_unauth.mobile_modal.wash_tap.${M||"unknown_type"}.with_dismissal`,{x:e.clientX,y:e.clientY}),w&&I()},tapStyle:"none",children:(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new o.Ry(1)})}),(0,g.jsxs)(o.xu,{color:"default",dangerouslySetInlineStyle:T?(0,s.Vf)({isFullscreen:Z,isTablet:"tablet"===N,isShowing:U,isRelatedInterestsModal:"related_interests_modal"===M,isDarkMode:H}):(0,s.JN)({isDarkMode:H,variant:z?"fullpage":Z?"fullscreen":"euPrompt"===M?"euPrompt":"tablet"===N?"tablet":C?"footer":"signup"===M?"signup":"repinPage"===M?"repinPage":void 0}),"data-test-id":"mobile-signup-mask",position:"fixed",children:[(0,g.jsxs)(o.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:E?"end":"start",width:"100%",children:[G&&!E&&(0,g.jsx)(o.xu,{"data-test-id":"mobile-modal-cancel-button",padding:2,children:(0,g.jsx)(o.hU,{accessibilityLabel:P,icon:"cancel",iconColor:H?"gray":"darkGray",onClick:I,padding:4,size:"sm"})}),j?(0,g.jsx)(o.kC.Item,{flex:"grow",children:(0,g.jsx)(o.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,g.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:P&&!A?{marginRight:R?-10:50,marginLeft:R?50:-10}:{}},"data-test-id":"mobile-modal-heading",children:[Z?j:(0,g.jsx)(o.xv,{align:t,size:S||"400",weight:"bold",children:j}),L?(0,g.jsx)(o.xv,{align:t,children:L}):null]})})}):null,x&&(0,g.jsx)(o.kC.Item,{flex:"grow",children:(0,g.jsx)(o.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:x})}),G&&E&&(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:2,paddingTop:2,paddingBottom:2}},"data-test-id":"mobile-modal-cancel-button",children:(0,g.jsx)(o.hU,{accessibilityLabel:P,icon:"cancel",iconColor:H?"gray":"darkGray",onClick:I,padding:4,size:"sm"})})]}),(0,g.jsxs)(o.xu,{overflow:"auto",children:[y,v]})]})]})})})}},887103:(e,t,n)=>{n.d(t,{Di:()=>l,Jl:()=>i,R:()=>o,aU:()=>s,j2:()=>a,pN:()=>r});let i=1e4,o="permanent_account_closure",a="account_deletion_email_sent",l="account_deactivated",s="unlink_successful",r="account_switch_to_settings"},26473:(e,t,n)=>{n.d(t,{Z:()=>i});function i({embedSrc:e,embedType:t,imagesUrls:n,preferredResolution:i,excludeOriginals:o}){if(!e&&!t&&!n)return"";if("gif"===t)return e||"";if(!n)return"";if(i){let e="474x"===i&&n["474x"]||"236x"===i&&n["236x"]||n["736x"];if(e)return e}let a=Object.keys(n).reduce((e,t)=>{try{let i=t.split("x")[0];if(Number.isNaN(Number(i)))return{...e,[t]:n[t]};return{...e,[i]:n[t]}}catch(t){return e}},{}),l=Object.keys(a);return o&&"orig"===l[l.length-1]&&l.pop(),a[l.pop()]||""}},765963:(e,t,n)=>{n.d(t,{Z:()=>i});let i={EMAIL:1,FACEBOOK:2,GPLUS:3,GOOGLE_ONE_TAP:4,SMARTLOCK:5,MULTIFACTOR:6,SWITCH_ACCOUNT:7,LINE:8,SSO:9}},863266:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(191855),o=n(609326),a=n(914896),l=n(786525),s=n(635258),r=n(868808),c=n(937304);let d="undefined"!=typeof window,u=d?`${window.location.origin}/oauth/line/redirect`:"",_=({origin:e,data:t})=>t&&e===window.location.origin?String(t):null,p=({url:e,key:t})=>{if(!e.startsWith(window.location.origin)||t!==o.MM)return null;let n=(0,l.qn)(o.MM);return(0,l.L_)(o.MM),n};function h(e,t){let n;if(!d){t.error?.({message:"Window is undefined"});return}let o=function(e=5){let t="abcdefghijklmnopqrstuvwxyz1234567890";return Array(e).fill("").map(()=>t[Math.floor(Math.random()*t.length)]).join("")}(10),l=async e=>{if(!e.isTrusted)return;let s=e instanceof MessageEvent?_(e):p(e),d=(0,r.mB)(s);if(d.state&&d.code&&d.state===o){t.fetching?.(),n&&!n.closed&&n.close();try{let e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(a.U2(i.fS))}`},method:"POST",body:(0,c.Z)({code:d.code,redirect_uri:u})}),{id_token:n,access_token:o}=await e.json();n&&o?t.success({line_id_token:n,line_access_token:o}):t.error?.({message:"No tokens returned"})}catch(e){t.error?.(e)}finally{n&&!n.closed&&n.close(),window.removeEventListener("message",l),window.removeEventListener("storage",l),t.complete?.()}}};window.addEventListener("message",l),window.addEventListener("storage",l),n=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${s.zal}&redirect_uri=${encodeURIComponent(u)}&state=${o}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},894789:(e,t,n)=>{n.d(t,{Z:()=>o});let i=e=>(e||"").replace(/-/g,"+").replace(/_/g,"/"),o=e=>JSON.parse(decodeURIComponent(atob(i(e.split(".")[1])).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))},369081:(e,t,n)=>{n.d(t,{GH:()=>r,JF:()=>f,Jb:()=>p,MI:()=>g,_V:()=>c,fi:()=>b,sl:()=>u,we:()=>_});var i=n(705492),o=n(400416),a=n(680369),l=n(685667),s=n(1006);let r="274266067164",c=()=>["public_profile","email","user_friends"],d=["picture.type(large)","id","first_name","last_name","email","gender"],u=e=>{e&&(0,s.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:r,status:!0,xfbml:!0,version:"v2.7"})):e?(0,s.dy)({event:"global_object_not_found",provider:"facebook"}):(0,s.My)("pcons.non_autologin.fb.global_object_not_found")},_=(e,t)=>(t&&(0,s.dy)({event:"load_script_start",provider:"facebook"}),(0,a.Z)((0,l.Z)(e),"FACEBOOK").then(()=>u(t))),p=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}),h=({userID:e,accessToken:t,data:{birthday:n,email:o,first_name:a,gender:l,last_name:s,picture:r}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:n?(0,i.Z)(n):void 0,email:o,first_name:a,gender:l,image_url:r&&!r.data.is_silhouette?r.data.url:void 0,last_name:s});async function g(e){let t=(await (0,o.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:d}})).resource_response.data||{};return(0,s.My)(t?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:t.birthday,email:t.email,first_name:t.first_name,gender:t.gender,id:t.id,last_name:t.last_name,picture:t.picture}}let m=(e,t)=>new Promise((n,i)=>{if("connected"!==e.status){i({status:e.status||"unknown"});return}let{userID:o,accessToken:a}=e.authResponse;g(a).then(e=>{n({creds:{facebook_id:o,facebook_token:a,facebook_autologin:t?.autologin||!1},signupOptions:h({userID:o,accessToken:a,data:e})})},i)}),f=()=>new Promise(e=>{window.FB.login(e,{scope:c().join(",")})}).then(e=>m(e)),b=async(e,t)=>{await _(e,!1);let n=await p(),i=t?"dweb":"mweb";if("connected"===n.status){(0,s.My)(`${i}.login_data_from_fb_token.connected`);let{userID:e,accessToken:t}=n.authResponse;try{let n=await (0,o.Z)({url:"/v3/facebook/login_data/",data:{facebook_id:e,facebook_token:t}});if(n?.resource_response?.data){let{connected_to_gplus:e,connected_to_google:t,has_password:o}=n.resource_response.data,a=e||t;return(0,s.My)(`${i}.login_data_from_fb_token.success`),{isGoogleConnected:a,hasPassword:o,isFBAuthOnly:!a&&!o}}(0,s.My)(`${i}.login_data_from_fb_token.no_data`)}catch{(0,s.My)(`${i}.login_data_from_fb_token.error`)}}return null}},685667:(e,t,n)=>{n.d(t,{Z:()=>o});let i=e=>{let t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}},o=e=>`//connect.facebook.net/${i(e)}/sdk.js`},32121:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(955937),a=n(235838);let l=(e="throttle")=>{let[t,n]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let t="throttle"===e?(0,a.Z)(()=>n(window.scrollY),10):(0,o.Z)(()=>n(window.scrollY),10);return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}},[e]),t}},722952:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(573706),o=n(297728),a=n(730212),l=n(61218),s=n(970067),r=n(172045),c=n(151817),d=n(868808),u=n(415787);let _="http://play.google.com/store/apps/details?id=com.pinterest",p=["access_token","new_password","new_password_confirm","password","next"],h=(e,t)=>t?(0,d.ru)(e,{invite_code:t}):e,g=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){let t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?h(e,n):"ios"===t||"ipad"===t?h(e.iOS,n):"android"===t?h(e.android,n):null},m=({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:o,app_upsell_type:a})=>({deeplink_path:g(e,n,t),current_page_url:(0,d.Gw)("undefined"!=typeof window?window.location.href:"",p),install_id:o,utm_source:140,utm_medium:2152,app_upsell_type:a,...i?{af_r:i}:null}),f=({deeplinkUri:e,invite_code:t,platform:n,unauthId:i,app_upsell_type:o})=>{let a=JSON.stringify({deeplink_path:g(e,n,t),current_page_url:(0,d.Gw)("undefined"!=typeof window?window.location.href:"",p),install_id:i});return{referrer:(0,d.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a,app_upsell_type:o})}},b=({unauthId:e,app_upsell_type:t})=>({referrer:encodeURI((0,d.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e,app_upsell_type:t}))}),x=()=>{if("undefined"!=typeof window){let e=new URLSearchParams(window.location.search);return e.has("utm_source")&&e.get("utm_source").includes("google_search")}return!1},y=()=>encodeURIComponent("https://app.appsflyer.com/com.pinterest?pid=dtsingletap_int&"+(0,d.XP)({c:"single_tap_unauth",af_c_id:"97867",clickid:(0,r.Z)()})),w=({isAuthenticated:e,checkExperiment:t,deeplinkUri:n,fallbackUrl:i,invite_code:o,logContextEvent:a,platform:l,redirectToLite:s,unauthId:r,userAgent:p,app_upsell_type:h,locale:g,isBot:w})=>{if(a?.({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}}),n){let v=m({isAuthenticated:e,deeplinkUri:n,fallbackUrl:i,invite_code:o,platform:l,unauthId:r,userAgent:p,app_upsell_type:h});if((0,u.nP)("mweb.deeplink",{sampleRate:1,tags:{platform:l}}),o&&(0,u.nP)("mweb.deeplink.invite_code",{sampleRate:1}),(0,u.nP)("mweb.deeplink.unauthId",{sampleRate:1,tags:{withUnauthId:!!r}}),s){(0,u.nP)("mweb.deeplink.lite_link",{sampleRate:1}),a?.({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}});let e=b({unauthId:r,app_upsell_type:h});window.location.href=(0,d.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===l){let i=f({deeplinkUri:n,invite_code:o,platform:l,unauthId:r,app_upsell_type:h});!w&&!e&&g?.toLowerCase().includes("en-us")&&x()&&t&&"enabled"===t("single_tap_unauth").group?window.location.href="https://delivers.dtignite.com/v2/delivers/clickAd.jsp?siteId=16686&campaignId=49161&tsti=true&updateApp=false&enablePostInstallAutoLaunch=true&dvURL="+y():(0,c.v)()?(0,c.Z)().then(e=>{if(e.length>0){let e=window.location.href.endsWith("/login")?window.location.href.replace("/login","string"==typeof n?n:n.android):window.location.href,t=(0,d.ru)(e,v);a?.({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}}),window.open(t)||a?.({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}})}else a?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}}),window.location.href=(0,d.ru)(_,i)}).catch(()=>{(0,u.nP)("mweb_android.deeplink.playStore.error",{sampleRate:1})}):(a?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}}),window.location.href=(0,d.ru)(_,i))}else{if((0,u.nP)("mweb.deeplink.appsflyer_link",{sampleRate:1}),"ios"===l&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,d.ru)("https://pinterest.com/pinterest-predicts",v);return}a?.({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:h}}),window.location.href=(0,d.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",v)}}};var v=n(785893);function j({children:e,invite_code:t}){let{locale:n,isAuthenticated:l,isBot:r,unauthId:c,userAgent:{platform:d,raw:u}}=(0,a.B)(),{logContextEvent:_}=(0,i.v)(),{checkExperiment:p}=(0,o.F)();return e(async(e,i,o)=>{_({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:i}}),w({isAuthenticated:l,checkExperiment:p,deeplinkUri:e,fallbackUrl:o,invite_code:t,logContextEvent:_,platform:d,redirectToLite:(0,s.Rp)({isBot:r,platform:d,userAgent:u}),unauthId:c,userAgent:u,app_upsell_type:i,locale:n,isBot:r})})}let k=e=>(0,v.jsx)(l.ty,{children:t=>(0,v.jsx)(j,{...e,invite_code:t})});k.displayName="DeepLinkNavigator";let P=k},343931:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),o=n(144326),a=n(785893);let l=({isInModal:e})=>{let t=(0,o.ZP)();return(0,a.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new i.Ry(1),children:(0,a.jsx)(i.$j,{accessibilityLabel:t.bt("Loading", "Loading", "Full page loading state", undefined, true),show:!0})})}},410287:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(883119),o=n(785893);function a({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:a,rounding:l,fullWidth:s=!1,pressState:r="none",accessibilityLabel:c,role:d,dataTestId:u}){let _=(Array.isArray(r)?r:[r]).includes("compress");return(0,o.jsx)(i.iP,{accessibilityLabel:c,dataTestId:u,fullWidth:s,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:a&&(({event:e})=>a(e)),role:d,rounding:l,tapStyle:_?"compress":"none",children:e})}},885519:(e,t,n)=>{n.r(t),n.d(t,{default:()=>e9});var i=n(667294),o=n(545007),a=n(616550),l=n(191855),s=n(192820),r=n(833602),c=n(573706),d=n(914896),u=n(602185),_=n(835764),p=n(282999),h=n(730212),g=n(750077),m=n(873095),f=n(978993),b=n(1006),x=n(868808),y=n(410150),w=n(969119),v=n(116897),j=n(252071),k=n(194093),P=n(355483),S=n(445330),A=n(720802),C=n(883119),Z=n(346645);function z({children:e}){return!(0,Z.Z)()&&e}var T=n(476198),I=n(144326),E=n(267005),L=n(765963),M=n(901450),B=n(72766),O=n(785893);let R="keychainAutologinDisabled",F="mweb.unauth.ios_keychain_autologin";function U(){let[e,t]=(0,i.useState)(""),[n,o]=(0,i.useState)(""),l=(0,i.useRef)(!1),s=!!e&&!!n,r=(0,i.useRef)(null),c=(0,B.f)(),d=(0,a.k6)(),u=(0,a.TH)(),_=(0,I.ZP)(),{showToast:p}=(0,M.F9)();(0,i.useEffect)(()=>{r.current&&r.current.focus()},[]);let h=({errorReason:e,errorCode:t,errorMessage:n})=>{let i=e||t===E.oP?"invalid_password":t===E.hU?"invalid_email":"login";(0,b.My)(`${F}.failure.${i}`),(0,f.Nh)(R,!0),d.push({pathname:"/login",state:{keychainiOSAutologinError:{code:t,message:n}}})};(0,i.useEffect)(()=>{l.current!==s&&(l.current=s,(0,f.Nh)(R,!0),c({username_or_email:e,password:n},d,u.pathname,{isAutologin:!0},{event_type:7534,view_type:9,view_parameter:63,aux_data:{signup_login_method:L.Z.EMAIL,upsell_reason:"autologin_keychain"}}).then(()=>{p(({hideToast:e})=>(0,O.jsx)(T.Z,{onHide:e,text:_.bt("You're logged in!", "You're logged in!", "mweb.unauth.ios_keychain_autologin.login_success_toast", undefined, true)})),(0,b.My)(`${F}.login_success`)}).catch(e=>{h({errorCode:(0,k.Z)(e,"api_error_code"),errorMessage:(0,k.Z)(e,"message")})}))});let g=({value:e,type:n})=>{if(1===e.length){h({errorReason:"manual_input_attempt"});return}"email"===n?t(e):o(e)},m=()=>{s||(0,b.My)(`${F}.failure.user_dismissed_prompt`),(0,f.Nh)(R,!0)};return(0,O.jsx)(C.xu,{dangerouslySetInlineStyle:{__style:{zIndex:-100}},opacity:0,position:"absolute",top:!0,children:(0,O.jsxs)("form",{"aria-hidden":"true",autoComplete:"on",onSubmit:e=>{e.preventDefault()},children:[(0,O.jsx)(C.nv,{ref:r,autoComplete:"username",id:"username",onBlur:m,onChange:({value:e})=>g({value:e,type:"email"}),size:"lg",type:"email",value:e}),(0,O.jsx)(C.nv,{autoComplete:"current-password",id:"current-password",onBlur:m,onChange:({value:e})=>g({value:e,type:"password"}),size:"lg",type:"password",value:n})]})})}let $=()=>{let e=(0,a.TH)(),{isBot:t,userAgent:{browserName:n}}=(0,h.B)();return!t&&"Mobile Safari"===n&&((0,p.bo)(e)||(0,p.E0)(e)||(0,p.dr)(e)||(0,p.gT)(e)||(0,p.uM)(e)||(0,p.am)(e))&&!(0,f.qn)(R,!1)};function D(){return $()&&(0,O.jsx)(U,{})}function N(){return(0,O.jsx)(z,{children:(0,O.jsx)(D,{})})}var H=n(166408),G=n(812477);let W=e=>{let t=s.W$;H.ZP.getItem(t)||H.ZP.setItem(t,e),H.ZP.setItem(s.R_,new Date().getTime())},X=()=>{if("undefined"==typeof window)return!1;let e=H.ZP.getItem(s.R_),t=H.ZP.getItem(s.W$);return!!e&&!!t&&new Date().getTime()-e<=t},Y=(e,t)=>e===t||!!e&&!!t&&e.pathname===t.pathname,J=e=>e&&!!e.key,K=({newLocation:e,oldLocation:t})=>J(e)&&(0,p.L6)(e)&&((0,p.L6)(t)||(0,p.am)(t)||(0,G.Z)(t)||(0,p.En)(t))&&!(0,f.qn)(s.EZ,void 0)&&!X();var q=n(872965);let V=e=>e.includes("_created")||e.includes("boards"),Q=({mobileSignupModalContext:e})=>{let t=(0,a.TH)(),n=(0,i.useRef)(t);(0,i.useEffect)(()=>{let i=n.current,o="?source=swipe"===t.search;if(i!==t&&!Y(i,t)&&!V(t.pathname)){(0,q.C)(t);let{showMobileSignupModal:n,dismissMobileSignupModal:a,incrementUpsellEligibleNavigationCount:l,upsellIsEnabledGlobally:r,upsellEligibleNavigationCount:c,modal:{isShown:d}}=e,u=c+1;d?a():r()&&K({newLocation:t,oldLocation:i})&&!o&&(c>=3&&!H.ZP.getItem(s.HZ)&&(n({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`navigation_3_${u}`,navigationTriggeredUpsell:{newLocation:t,oldLocation:i},headingType:"none"}),H.ZP.setItem(s.HZ,!0),(0,b.My)(`mweb.nav.upsell.show.${u}`)),l())}n.current=t},[t,e])};function ee({context:e}){return Q({mobileSignupModalContext:e}),null}var et=n(335108),en=n(529264),ei=n(154785),eo=n(383399),ea=n(129746),el=n(55463);let es=()=>{let e=(0,eo.Z)(),t=e&&e.isAuth,{referrerFromCookie:n}=(0,h.B)(),i=(0,en.Xn)((0,en.an)(n??"")),a=(0,o.v9)(({session:e})=>e.unauthSavePinId&&!t),{unauthCommentPinId:l,removeUnauthCommentPinId:r}=(0,ea.C)(),c=l&&t,{unauthFollowUserId:d,removeUnauthFollowUserId:u}=(0,el.f)(),_=d&&t,p=(0,o.I0)(),g=(0,ei.Z)();return()=>{a&&p((0,et.n1)()),c&&r(),_&&u(),(0,b.NC)("hide_dismissable_modal"),g({action:"dismiss",item:"signup-modal"});let e=(0,H.Nl)(),t=e.getItem(s.lf)||0;t+=1,e.setItem(s.lf,t);let n=1===t;i&&n&&W(6e4)}};var er=n(559028),ec=n(240760),ed=n(635258),eu=n(410287),e_=n(1856),ep=n(191512),eh=n(415787);function eg(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let em={visible:{transform:"translateY(0)",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1)"},hiding:{transform:"translateY(350px)",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1)"},wash:{backgroundColor:"rgba(0, 0, 0, 0.5)",height:"100%",touchAction:"none",width:"100%",zIndex:10001,position:"fixed",top:0,left:0},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",width:"100%",zIndex:1}}};class ef extends i.PureComponent{constructor(...e){super(...e),eg(this,"state",{visible:!1,hiding:!1,showWash:!1}),eg(this,"getTitle",()=>{let{invite:e}=this.props,t=e&&e.sender,n=t&&t.first_name;return(this.props.i18n.bt("Join {{ name }} on Pinterest for more ideas", "Join {{ name }} on Pinterest for more ideas", "Prompt user to signup to access all Pinterest features", undefined, true)).replace("{{ name }}",n||"")}),eg(this,"getAvatar",()=>{let{invite:e}=this.props,t=e&&e.sender,n=t&&t.image_medium_url,i=t&&t.full_name;return(0,O.jsx)(er.qE,{name:i||"",size:"sm",src:n||""})}),eg(this,"handleHide",()=>{let{onDismiss:e}=this.props;(0,eh.nP)("mweb_facebook_social_upsell.close"),this.setState({hiding:!0,showWash:!1}),this.slideInAnimation=window.requestAnimationFrame(()=>{setTimeout(()=>{e&&e()},1e3)})}),eg(this,"handleHideOutsideTap",()=>{let{onDismiss:e}=this.props;(0,eh.nP)("mweb_facebook_social_upsell.close.outside.modal"),this.setState({hiding:!0,showWash:!1}),this.slideInAnimation=window.requestAnimationFrame(()=>{setTimeout(()=>{e&&e()},1e3)})}),eg(this,"handleFBConnect",e=>{(0,eh.nP)(`mweb_facebook_social_upsell.fb_connect_button_click.${e}`)}),eg(this,"handleSignupClick",()=>{let e=this.props.location.state?.attributionLabel;(0,eh.nP)("mweb_facebook_social_upsell.signup_button_click"),this.props.history.push({pathname:"/",state:{from:this.props.location.pathname,next:this.props.location.pathname,attributionLabel:e}})}),eg(this,"initializeShowAnimation",()=>{(0,eh.nP)("mweb_facebook_social_upsell.shown"),this.slideInAnimation=window.requestAnimationFrame(()=>{setTimeout(()=>{this.setState({visible:!0})},1e3)})})}componentDidMount(){(0,eh.nP)("mweb_facebook_social_upsell.land");let{invite:e}=this.props,t=e?e.invite_channel:null;t&&(0,eh.nP)(`mweb_social_unauth.invite_channel.${t}`),this.initializeShowAnimation()}componentWillUnmount(){void 0!==this.slideInAnimation&&window.cancelAnimationFrame(this.slideInAnimation)}renderDefaultLoginHeader(){return(0,O.jsxs)(C.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginBottom:2,children:[(0,O.jsxs)(C.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:5,children:[(0,O.jsx)(C.xu,{children:(0,O.jsx)(C.xv,{align:"start",size:"400",weight:"bold",children:this.props.i18n.bt("Sign up to see more", "Sign up to see more", "Title on mobile web signup modal to prompt users to signup for Pinterest.", undefined, true)})}),(0,O.jsx)(C.xu,{marginBottom:1}),(0,O.jsx)(C.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,O.jsx)(C.xv,{align:"start",children:this.props.i18n.bt("Free, unlimited access to ideas", "Free, unlimited access to ideas", "First value prop on mobile web sign up modal", undefined, true)})})]}),(0,O.jsx)(C.iz,{})]})}renderInviterHeader(){return(0,O.jsxs)(C.xu,{alignItems:"center",display:"flex",flex:"grow",marginBottom:2,children:[(0,O.jsxs)(C.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:3,children:[(0,O.jsx)(C.xu,{children:(0,O.jsx)(C.xv,{align:"start",size:"400",weight:"bold",children:this.getTitle()})}),(0,O.jsx)(C.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"26%"}},children:this.getAvatar()})]}),(0,O.jsx)(C.iz,{})]})}render(){let{location:e,invite:t}=this.props,{visible:n,hiding:i,showWash:o}=this.state,a=ed.ZEf,l=t?t.sender:null,s=n&&!i?em.visible:em.hiding;return(0,O.jsxs)(C.xu,{dangerouslySetInlineStyle:{__style:o?em.wash:{}},children:[n&&!i?(0,O.jsx)(eu.Z,{onTouch:this.handleHideOutsideTap,pressState:"none",children:(0,O.jsx)(C.xu,{dangerouslySetInlineStyle:{__style:em.mask.baseStyles},left:!0,opacity:1,position:"fixed",top:!0})}):null,(0,O.jsx)(C.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{...s,boxShadow:"0 1px 5px 0 rgba(0,0,0,0.25)",paddingBottom:"5%",paddingTop:"2%",touchAction:"none"}},paddingX:6,position:"fixed",width:"100%",zIndex:new C.Ry(10001),children:(0,O.jsxs)(C.xu,{marginEnd:"auto",marginStart:"auto",maxWidth:400,children:[(0,O.jsx)(C.xu,{paddingY:2}),(0,O.jsx)(C.xu,{left:!0,marginStart:4,marginTop:2,position:"absolute",top:!0,children:(0,O.jsx)(C.hU,{accessibilityLabel:this.props.i18n.bt("Close modal", "Close modal", "Close the modal for facebook upsell", undefined, true),icon:"cancel",iconColor:"gray",onClick:this.handleHide,size:"sm"})}),(0,O.jsx)(C.xu,{paddingY:2}),l?this.renderInviterHeader():this.renderDefaultLoginHeader(),(0,O.jsx)(C.xu,{height:40,marginBottom:1,children:(0,O.jsx)(e_.Z,{attributionLabel:e.state?.attributionLabel,facebook:!1,fbConnectHandler:this.handleFBConnect,from:e.pathname,next:e.pathname})}),(0,O.jsx)(C.xu,{marginBottom:1,marginTop:2,children:(0,O.jsx)(C.zx,{color:"gray",fullWidth:!0,onClick:this.handleSignupClick,text:this.props.i18n.bt("Sign Up", "Sign Up", "Button to redirect user to Signup Page on mweb", undefined, true)})}),(0,O.jsx)(C.xu,{marginTop:3,children:(0,O.jsx)(C.xv,{align:"center",color:"subtle",size:"100",children:(0,ec.nk)(this.props.i18n.bt("Have an account? {{ logIn }}", "Have an account? {{ logIn }}", "Asking users if they already have an account", undefined, true),{logIn:(0,O.jsx)(C.rU,{display:"inlineBlock",href:a,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:(0,O.jsx)(C.xv,{color:"subtle",inline:!0,size:"100",weight:"bold",children:this.props.i18n.bt("Log in", "Log in", "Mobile web link to log in page", undefined, true)})})})})}),(0,O.jsx)(C.xu,{marginTop:3,children:(0,O.jsx)(ep.Z,{size:"xs"})})]})})]})}}function eb(e){let t=(0,a.k6)(),n=(0,a.TH)(),i=(0,I.ZP)();return(0,O.jsx)(ef,{...e,history:t,i18n:i,location:n})}var ex=n(477058),ey=n(49985),ew=n(225771);let ev=({children:e,isOpen:t,onDismiss:n,type:i})=>(0,O.jsx)(ew.default,{accessibilityModalLabel:"",isOpen:t,mobileAllowScroll:!0,mobileHideCloseIcon:!0,mobileIsFooter:!0,onDismiss:n,type:i,children:(0,O.jsx)(C.xu,{padding:4,children:e})});var ej=n(887525);class ek extends i.PureComponent{constructor(...e){var t,n,i;super(...e),t="handleJoinBoardClick",n=({event:e})=>{e.stopPropagation();let{history:t,socialCollabGroupBoardPath:n}=this.props;(0,eh.nP)("mweb.social.group_board.public.modal.display"),t.push({pathname:"/signup/step1/",state:{next:n||"",isFromGroupBoardsInvite:!0}})},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){let{inviteObject:e}=this.props,t=e?e.invite_channel:null;(0,eh.nP)("mweb.social.group_board.public.modal.display"),t&&(0,eh.nP)(`mweb.social.group_board.public.invite_channel.${t}`)}render(){let{viewType:e,viewParameter:t,inviteObject:n,board:i,color:o}=this.props,a=n?n.sender:null,l=a?a.first_name:"",s=a?a.image_medium_url:"",r=a?a.full_name:"",c=l?(this.props.i18n.bt("{{ name }} invited you to join their board", "{{ name }} invited you to join their board", "Mobile Modal prompting users to join a friends({{ name }}) board", undefined, true)).replace("{{ name }}",l):this.props.i18n.bt("Your friends invited you to join their board", "Your friends invited you to join their board", "Mobile Modal prompting users to join a friends board", undefined, true),d=this.props.i18n.bt("Join board", "Join board", "Join Board Button", undefined, true);return(0,O.jsx)(ey.Z,{component:13196,viewParameter:t,viewType:e||202,children:(0,O.jsx)(ev,{isOpen:!0,onDismiss:()=>{},type:"groupboard_join",children:i?(0,O.jsxs)(C.xu,{padding:3,children:[(0,O.jsxs)(C.xu,{children:[(0,O.jsxs)(C.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,O.jsx)(C.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"5%"}},width:"48px",children:(0,O.jsx)(er.qE,{color:o,name:r||"",src:s||""})}),(0,O.jsx)(C.xu,{maxWidth:"74%",children:(0,O.jsx)(C.xv,{align:"start",overflow:"normal",weight:"bold",children:c})})]}),(0,O.jsx)(C.xu,{marginBottom:4})]}),(0,O.jsx)(C.zx,{color:"red",fullWidth:!0,onClick:this.handleJoinBoardClick,text:d,type:"button"})]}):(0,O.jsx)(C.xu,{padding:3,children:(0,O.jsx)(C.$j,{accessibilityLabel:this.props.i18n.bt("Loading board", "Loading Board", "Accessiblity label for Spinner searching for board", undefined, true),show:!0})})})})}}function eP({inviteObject:e,socialCollabGroupBoardPath:t}){let n=(0,I.ZP)(),i=(0,a.k6)(),l=(0,eo.Z)(),s=l.isAuth?l?.avatar_color_index:void 0,{country:r}=(0,h.B)(),{viewType:c,viewParameter:d}=(0,ex.SU)(),u=t&&t.split("?")[0]||"",_=(0,o.v9)(e=>(0,ej.Z)(e)[u]);return(0,O.jsx)(ek,{board:_,color:s,country:r,history:i,i18n:n,inviteObject:e,socialCollabGroupBoardPath:t,viewParameter:d,viewType:c})}var eS=n(488792),eA=n(793874),eC=n(26473),eZ=n(297728),ez=n(32121),eT=n(971677),eI=n(923421),eE=n(804576),eL=n(65895),eM=n(66560),eB=n(904945);function eO({children:e,isShown:t}){let n=(0,ei.Z)();return(0,O.jsx)(eB.Z,{app_upsell_type:"unauth-floating-upsell",componentType:14156,isShown:t,children:({handleOpenApp:t})=>(0,O.jsx)(C.iP,{onTap:()=>{n({action:"click",item:"floating-app-upsell"}),t()},children:e})})}var eR=n(927371),eF=n(994634);let eU=new C.Ry(1e4),e$=()=>{let e=(0,a.TH)(),t=(0,a.UO)(),{countryFromIp:n,isBot:i,userAgent:{isMobile:l}}=(0,h.B)(),s=(0,eM.S6)(),r=t.id?s(t.id):void 0;return(0,o.v9)(t=>{let o=(0,ej.Z)(t)[e.pathname],a=o?.cover_pin?.pin_id,c=a&&r&&s(a),d=r||c,{session:{isSocialBot:u}}=t,_=(0,eE.Z)(n||"",i||u,!l)&&["Dialup","Cellular"].includes(d?.pinner?.connection_type),p=(0,eC.Z)({imagesUrls:d?.images?Object.keys(d.images).reduce((e,t)=>t&&d.images?.[t]?.url?{...e,[t]:d.images[t].url}:e,{}):void 0,embedSrc:d?.embed?.src,embedType:d?.embed?.type,preferredResolution:_&&"236x"||"736x",excludeOriginals:!i&&!u})||o&&o.image_cover_url||"";return p?{color:(d||{}).dominant_color,src:p}:null})},eD=({onDismiss:e})=>{let t=(0,I.ZP)(),{viewType:n,viewParameter:o}=(0,ex.SU)(),a=(0,eR.Z)().length,l=e$(),s=(0,eS.Z)(),{trackAppUpsellDismiss:r}=(0,eT.Z)(),c=(0,ei.Z)(),d=(0,y.Wb)(),u=(0,eA.vs)();return(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)(C.xu,{alignSelf:d?"end":void 0,dangerouslySetInlineStyle:{__style:{flexGrow:d?void 0:0}},"data-test-id":"cancel-button",display:"flex",children:(0,O.jsx)(C.hU,{accessibilityLabel:t.bt("Cancel", "Cancel", "unauth.mweb.floating_app_modal.cancel_button", undefined, true),icon:"cancel",iconColor:d?"gray":"darkGray",onClick:({event:t})=>{(0,b.tj)("mweb_unauth.float_app_upsell.dismiss_tap",{x:t?.pageX||-1,y:t?.pageY||-1}),(0,b.My)(`pcons_dismiss_floating_app_upsell_after_${a}_rp_clicks`),(0,b.NC)("click_dismiss_float_app_upsell"),s({component:14156,element:75,event_type:102,view_type:n,view_parameter:o}),r({appUpsellType:"unauth-floating-upsell",viewType:n,viewParameter:o,component:14156,element:75}),c({action:"click",item:"close-button",within:"unauth-floating-upsell"}),t.stopPropagation(),e()},size:"sm"})}),(0,O.jsx)(C.xu,{dangerouslySetInlineStyle:{__style:{flexGrow:d?void 0:1}},children:(0,O.jsxs)(C.xu,{"data-test-id":"interest-image",display:"flex",margin:d?2:0,children:[d?l&&(0,O.jsx)(C.xu,{height:64,marginEnd:4,minWidth:48,overflow:"hidden",rounding:2,children:(0,O.jsx)(C.Ee,{alt:"image",color:l.color||"white",fit:"cover",naturalHeight:64,naturalWidth:48,src:l.src})}):(0,O.jsx)(C.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:16}},children:(0,O.jsx)(C.xu,{color:u?"inverse":"default",dangerouslySetInlineStyle:{__style:{padding:"6px"}},rounding:1,children:(0,O.jsx)(C.JO,{accessibilityLabel:"Pinterest logo",color:"brandPrimary",icon:"pinterest",size:28})})}),(0,O.jsxs)(C.kC,{alignItems:"stretch",direction:"column",justifyContent:d?"start":"center",children:[(0,O.jsx)(C.xu,{children:(0,O.jsx)(C.xv,{weight:d?"bold":void 0,children:t.bt("Loving these ideas?", "Loving these ideas?", "unauth.mweb.floating_app_modal.main_text", undefined, true)})}),(0,O.jsx)(C.xv,{weight:d?void 0:"bold",children:d?t.bt("Get the free Pinterest app to see more", "Get the free Pinterest app to see more", "unauth.mweb.floating_app_modal.main_text", undefined, true):t.bt("Get the app to see more", "Get the app to see more", "unauth.mweb.floating_app_modal.main_text.experimental", undefined, true)})]})]})})]})},eN=()=>{let e=(0,I.ZP)(),t=(0,a.TH)();return(0,O.jsxs)(C.xu,{alignItems:"center",direction:"column",display:"flex",paddingX:2,paddingY:4,children:[(0,O.jsx)(C.xu,{flex:"grow",children:(0,O.jsxs)(C.xu,{marginBottom:6,children:[(0,O.jsx)(C.xu,{marginBottom:2,children:(0,O.jsx)(C.X6,{align:"center",overflow:"normal",size:"400",children:e.bt("You are signed out", "You are signed out", "Heading on the bottom right upsell suggesting user is not signed in", undefined, true)})}),(0,O.jsx)(C.xv,{align:"center",overflow:"normal",children:e.bt("Sign in to get the best experience", "Sign in to get the best experience", "Subheader value prop on the bottom right upsell", undefined, true)})]})}),(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)(e_.Z,{attributionLabel:t.state?.attributionLabel,facebook:!1,google:!0,line:!0,next:(0,eI.Z)(t),showEmailButton:!0}),(0,O.jsx)(C.xu,{marginTop:-3,paddingX:6,children:(0,O.jsx)(ep.Z,{})})]})]})};function eH({onDismiss:e}){let{checkExperiment:t}=(0,eZ.F)(),n=(0,ei.Z)(),o=(0,eL.a)(),l=(0,eA.vs)(),s=!!o?.hasScrolledPastMainContent,r=!!o?.hasDraggedDrawerToFullScreen,c=(0,y.Wb)(),d=(0,a.TH)(),u=(0,ez.Z)(),[_,p]=(0,i.useState)(!1),{viewType:h,viewParameter:g}=(0,ex.SU)(),m=(t("mweb_better_related_pins_drawer").group||"").includes("draggable"),f=(0,i.useRef)(u);return(0,i.useEffect)(()=>{c?u>200?p(!0):c&&p(!1):(p(u>700&&u>f.current),f.current=u)},[u,c,s,m,r,t]),(0,i.useEffect)(()=>{n({action:"trigger",item:_?"show-floating-app-upsell":"hide-floating-app-upsell"})},[_,d,n]),(0,O.jsx)(ey.Z,{component:13130,viewParameter:g,viewType:h||202,children:(0,O.jsx)(eO,{isShown:_,children:(0,O.jsx)(C.xu,{alignItems:c?"center":void 0,borderStyle:"shadow",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:l?eA.N$:"#fff",marginTop:c?void 0:16,transition:"transform 225ms ease-in-out",transform:c?`translateY(${_?0:c?145:-120}%)`:`translateY(${_?"-84px":"120%"})`,marginBottom:c?84:void 0,paddingRight:c?void 0:"8px",flexDirection:c?void 0:"row-reverse"}},"data-test-id":"floating-app-upsell",direction:"column",display:"flex",justifyContent:c?"center":void 0,left:!c,marginEnd:4,marginStart:c?0:4,maxHeight:c?void 0:96,maxWidth:c?350:void 0,opacity:1,padding:4,position:"fixed",right:!0,rounding:c?6:4,top:!1,zIndex:c?eU:new C.Ry(2),children:c?(0,O.jsx)(eN,{}):(0,O.jsx)(eD,{onDismiss:e})})})})}function eG(){let{viewType:e,viewParameter:t}=(0,ex.SU)(),[n,o]=(0,i.useState)(!1),a=(0,eF.Z)();return(0,O.jsx)(ey.Z,{component:13198,viewParameter:t,viewType:e||202,children:(0,O.jsx)(C.xu,{children:a&&!n&&(0,O.jsx)(eH,{onDismiss:()=>{o(!0)}})})})}let eW=()=>{let e=(0,a.TH)(),t=(0,eL.a)(),{locale:n,userAgent:{platform:i,raw:o}}=(0,h.B)();if(!t)return!1;let{appInstallBannerIsEnabled:l,pinPageGlobalContext:s}=t,c=!!(0,x.mB)(e.search).invite_code;return l&&!(0,r.$K)(o)&&!(n.includes("ar")&&"ios"!==i)&&!(s?.isStoryPin===!0&&c)};var eX=n(272873);let eY=[5,18,17,6,19],eJ=(0,i.lazy)(()=>n.e(86560).then(n.bind(n,932712))),eK=()=>{let e=es(),t=(0,y.ZP)(),n=(0,m.l)();if(!n||!n.modal.isShown)return null;let{dismissMobileSignupModal:i,modal:{displayProps:o,pinId:a}}=n;return(0,O.jsx)(u.Z,{name:"SafeSuspense_UnauthPageWrapper_SignupModal",children:(0,O.jsx)(g.Z,{fallback:(0,O.jsx)(C.xu,{}),children:(0,O.jsx)(eJ,{displayProps:o,isTablet:"tablet"===t,onDismiss:()=>{i(),e()},pinId:a})})})};function eq(){let e=(0,a.TH)(),t=(0,eX.Z)(),n=(0,o.I0)(),l=(0,o.v9)(({session:e})=>e.unauthInterstitialDismissed),s=eW(),r=(0,m.l)(),[c,d]=(0,i.useState)(!1),_=!!r?.modal.isShown;(0,i.useEffect)(()=>{_&&(d(!0),n((0,et.W)()))},[_,n]);let p=_&&(0,O.jsx)(eK,{});if(!p&&t&&t.invite){let{invite:n,pageType:i}=t;"board"===i&&n.sender?.invite_category===4?p=(0,O.jsx)(u.Z,{name:"SafeSuspense_UnauthPageWrapper_GroupBoardsJoinModal",children:(0,O.jsx)(g.Z,{children:(0,O.jsx)(eP,{inviteObject:n,socialCollabGroupBoardPath:`${e.pathname}${e.search}`})})}):eY.includes(n.invite_channel??0)&&!c&&(p=(0,O.jsx)(eb,{invite:n,onDismiss:()=>d(!0)}))}return(0,O.jsxs)(i.Fragment,{children:[s&&!l&&(0,O.jsx)(eG,{}),(0,O.jsx)(C.xu,{children:p})]})}var eV=n(380819),eQ=n(768259),e0=n(186181),e1=n(541791);let e2=["CA","VA","CO","CT"];var e3=n(748327),e4=n(803792);let e5=(0,i.lazy)(()=>n.e(24742).then(n.bind(n,624742))),e7=(0,i.lazy)(()=>n.e(13377).then(n.bind(n,713377))),e8=(e,t,n)=>{let i={...n.getStatslogData()},o={...i.core,...i.counts,browserEventName:t,event:e};return Object.keys(i).forEach(n=>{(0,b.My)(`lop_unauth_user_state.${e}.${t}.${n}`,i[n])}),o},e6=()=>{let{unauthUserState:e,unauthUserStateDispatch:t}=(0,A.R)(),{logContextEvent:n}=(0,c.v)(),i=(0,a.TH)(),u=(0,o.I0)(),{isBot:p,userAgent:{raw:g}}=(0,h.B)(),m=t=>{n({event_type:7686,view_type:51,aux_data:{unauth_data:JSON.stringify(e8("site_entry",t,e)),unauth_revisitation:e.revisitationState.count,unauth_previously_logged_out:d.U2(l.e7)}})};(0,w.Z)(()=>{let t=t=>{(0,S.Vd)({count:(0,S.iU)().count??1,time:new Date().getTime()}),n({event_type:7686,view_type:51,aux_data:{unauth_data:JSON.stringify(e8("site_exit",t,e)),unauth_revisitation:e.revisitationState.count,unauth_previously_logged_out:d.U2(l.e7)}})},i=!0,o=()=>{let{visibilityState:e}=document;if("visible"===e&&!i){i=!0,m("visibilitychange");return}i=!1,t("visibilitychange")},a=()=>{i=!1,t("beforeunload")};return p?()=>{}:(document.addEventListener("visibilitychange",o),window.addEventListener("beforeunload",a),()=>{document.removeEventListener("visibilitychange",o),window.removeEventListener("beforeunload",a)})}),(0,w.Z)(()=>{if((i.search||"").includes("amp_client_id")&&(0,b.My)("amp_duplo_redirect"),!p){u((0,_.pz)([1000180],p)),(function(){let e=j.Z.create("UnauthUserDataResource");return new Promise((t,n)=>{e.callGet().then(e=>{let i=e.resource_response.data,o=!!d.U2(l.x3);return i?((0,P.Wn)(i.medium_image_url)&&(i.medium_image_url=""),(0,b.My)(`mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_${o?"true":"false"}`),t(i)):((0,b.My)(`mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_${o?"true":"false"}`),n({}))}).catch(e=>{let t=(0,k.Z)(e,"message");if(t){let e=t.replace(/\s/g,"_").toLowerCase();(0,b.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${e}`)}else(0,b.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return n(e)})})})().then(e=>{u((0,et.iW)(e))},()=>{u((0,et.iW)())});let{revisitationState:n}=e;n&&!(n.count<1)&&n.time?new Date().getTime()-n.time>6e5&&(n={...n,count:n.count+1},(0,S.Vd)(n)):(n=(0,S.K7)(),(0,S.Vd)(n)),m("onMount"),t({type:"UPDATE"})}(0,r.$K)(g)&&(0,f.Nh)(s.EZ,v.zu)})};function e9(){let e=(0,y.HG)(),t=(0,a.TH)(),n=(0,e4.U)();(0,i.useEffect)(()=>{n&&setTimeout(()=>{n.preload?.(e3.ke("login.js"))},500)},[]);let{referrerFromCookie:o,userAgent:l}=(0,h.B)(),s=(0,m.l)(),r=t&&t.search?(0,x.mB)(t.search):"",c=!!r&&"1"===r.ur,d=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{!d.current&&c&&(0,q.C)(t),d.current=c,"GSA"===l.browserName&&"ios"===l.platform?(0,b.My)("pcons.gsa_and_ios_session.platform"):"GSA"===l.browserName&&"iOS"===l.osName&&(0,b.My)("pcons.gsa_and_ios_session.osName")}),(0,i.useEffect)(()=>{(0,b.My)("mweb.unauth_seo.referrer",{referrer:o,docReferrer:document.referrer})},[o]),!function(){let{country:e,countryFromHostName:t,countryFromIp:n,isBot:o,regionFromIp:a,unauthId:l}=(0,h.B)(),s=new Set(eQ.Z),r=s.has(e)||s.has(t)||s.has(n),c=e2.includes(a),d=ed.nBl.includes(a),u="undefined"!=typeof window&&!!window.navigator&&!!window.navigator.globalPrivacyControl&&window.navigator.globalPrivacyControl;(0,i.useEffect)(()=>{r||c||u&&d||((0,e0.NR)({country:e,isBot:o})&&(0,e1.kQ)({unauthId:l}),(0,e0.c_)({country:e,isBot:o})&&(0,e1.X)({id:eV.Un,eventName:"Mobile"}),(0,e0.$r)({country:e,regionFromIp:a,isBot:o})&&(0,e1.Kv)({id:"flashtalking-m-ses",eventName:"Mobile"}),(0,e0.Fc)({country:e,isBot:o})&&l&&(0,e1.o4)({unauthId:l}))},[e,r,l,o,a,c,d,u])}(),e6(),(0,O.jsxs)(i.Fragment,{children:[!(0,p.re)(t)&&!(0,p.FO)(t)&&(0,O.jsx)(u.Z,{name:"SafeSuspense_UnauthPageWrapper_AutoLogin",children:(0,O.jsx)(g.Z,{children:(0,O.jsx)(e5,{})})}),(0,O.jsx)(u.Z,{name:"SafeSuspense_UnauthPageWrapper_GoogleOneTap",children:(0,O.jsx)(g.Z,{children:(0,O.jsx)(e7,{})})}),(0,O.jsx)(N,{}),!e&&(0,O.jsx)(eq,{}),s&&(0,O.jsx)(ee,{context:s})]})}},49985:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),o=n(488792),a=n(1006);let l=e=>Object.keys(e).reduce((t,n)=>(void 0===e[n]&&delete t[n],t),{...e}),s=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:o,component:s,clientTrackingParams:r,element:c},d)=>{let u=l({event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:o,component:s,clientTrackingParams:r,element:c});-1===Object.keys(u).indexOf("view_type")&&(0,a.My)("mweb.logging.null_view_type"),d(u)};function r(e){let{auxData:t,clientTrackingParams:n,children:a,component:l,element:r,objectIdStr:c,viewData:d,viewParameter:u,viewType:_}=e,p=(0,o.Z)(),h=JSON.stringify(t),g=JSON.stringify(d);return(0,i.useEffect)(()=>{s(e,p)},[p,h,n,l,r,c,g,u,_]),i.Children.only(a)}},904945:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),o=n(616550),a=n(573706),l=n(477058),s=n(730212),r=n(1006),c=n(154785),d=n(463057),u=n(999836),_=n(722952),p=n(415787),h=n(785893);function g({children:e,componentType:t,app_upsell_type:n,isShown:g=!0}){let m=(0,o.TH)(),{flushContextEvents:f,logContextEvent:b}=(0,a.v)(),{viewType:x,viewParameter:y}=(0,l.SU)(),w=(0,c.Z)(),{userAgent:{platform:v}}=(0,s.B)();(0,i.useEffect)(()=>{w({action:"view",item:"download-button",within:n})},[m,n,w]);let j=(0,i.useRef)(!1);(0,i.useEffect)(()=>{g&&x&&202!==x?(b({component:t||13106,element:10308,event_type:9976,view_type:x,view_parameter:y,aux_data:{app_upsell_type:n,app_upsell_is_dupe:j.current}}),j.current=!0):(0,p.nP)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:t,view_type:x,view_parameter:y,app_upsell_type:n,app_upsell_is_dupe:j.current}})},[x,y,t,n,b,g]);let k=(0,u.Z)();return(0,i.useEffect)(()=>{k||(0,r.My)(`mweb.app_upsell.forbidden_upsell.${n}`)},[k,n]),(0,h.jsx)(_.Z,{children:i=>e({handleOpenApp:e=>{w({action:"click",item:"download-button",within:n}),(0,r.NC)("press_open_app",!0),b({component:t||13106,element:10308,event_type:102,view_type:x||202,view_parameter:y,aux_data:{app_upsell_type:n}}),b({component:t||13106,element:10308,event_type:9977,view_type:x||202,view_parameter:y,aux_data:{app_upsell_type:n}}),f(!0),i&&(b({component:t||13106,element:10308,event_type:1701,view_type:x||202,view_parameter:y,aux_data:{app_upsell_type:n}}),i(e?.deepLinkUri??(0,d.Z)(m,"android"===v),n))}})})}},463057:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(282999);function o(e,t){return"/"===e.pathname?"/":(0,i.am)(e)&&t?`board/${e.pathname.substr(1)}`:e.pathname.substr(1)}},971677:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(573706);function o(){let{logContextEvent:e}=(0,i.v)();return{trackAppUpsellDismiss:({appUpsellType:t,viewType:n,viewParameter:i,component:o,element:a})=>{e({event_type:10220,view_type:n??202,view_parameter:i,component:o,element:a,aux_data:{app_upsell_type:t}})}}}},728891:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(375182),o=n(1006);async function a(e){let t=await (0,i.Kw)(),n=t?{user_ids:Object.keys(t)}:{};(0,o.tj)(`mweb_multiple_accounts_${e}`,n)}},715153:(e,t,n)=>{n.d(t,{eN:()=>d,_:()=>_,kB:()=>u});var i=n(635258),o=n(868808),a=n(723184),l=n(616550);let s=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/about/koplg/","/about/:lawName/","/about/radtc/","/website/confirm/","/oauth/","/app-factory-oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"],r=(e,t)=>{let n=new URL(e,t);return s.some(e=>!!(0,l.LX)(n.pathname,{path:e,exact:!0}))};var c=n(415787);let d=e=>e&&(0,o.Qg)(e)&&i.lfe!==e?(0,o.Qc)(e).relative:"/",u=(e,t)=>{let n=(0,o.Jx)(e);return r(n,t)||(0,a.Z)(n)===o.vx.TRUSTED_DIFFERENT_ORIGIN},_=({forceFullPageNavigation:e,history:t,next:n,noLocationReplace:i,origin:a})=>{let l=(0,o.Jx)(n);u(n,a)||!t||e?(e&&(0,c.nP)("webapp.duplo.navigateOnLogin.forceFullPageNavigation",{sampleRate:1}),window.location.assign(l)):i?t.push(d(l)):t.replace(d(l))}},923421:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null}},430575:(e,t,n)=>{n.d(t,{Z:()=>x,u:()=>f});var i=n(667294),o=n(616550),a=n(883119),l=n(449112),s=n(608989),r=n(476198),c=n(144326),d=n(786525),u=n(1006),_=n(154785),p=n(901450),h=n(923421),g=n(72766),m=n(785893);let f="web_siwa_redirect_path",b="id_token=";function x(){let e=(0,c.ZP)(),t=(0,o.TH)(),n=(0,g.f)(),x=(0,o.k6)(),{showToast:y}=(0,p.F9)(),[w,v]=(0,i.useState)(!1),j=(0,_.Z)(),k=t.hash.indexOf(b),P=k>=0?t.hash.substring(k+b.length):null,S=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let i=async i=>{(0,u.My)("in_app_oauth.login.siwa.returned_with_token"),v(!0),n({apple_token:i},x,t.pathname,{noImmediateRedirect:!0},{event_type:7534,view_type:10}).then(()=>{v(!1),(0,u.My)("in_app_oauth.login.siwa.login_success");let e=(0,d.qn)(f);(0,d.L_)(f),(0,l.Z)(e||"/")}).catch(()=>{v(!1),(0,u.My)("in_app_oauth.login.siwa.login_failure"),y(({hideToast:t})=>(0,m.jsx)(r.Z,{onHide:t,text:e.bt("Sorry. You do not have an account connected with Apple. Please try another method.", "Oops! You do not have an account connected with Apple. Please try another method.", "mweb.unauth.oauth_apple_login.login_failure_toast", undefined, true),type:"error"}))})};S.current!==P&&P&&i(P),S.current=P},[x,e,P,t,n,y]),w?(0,m.jsx)(a.$j,{accessibilityLabel:e.bt("Loading...", "Loading...", "Loading", undefined, true),show:!0}):(0,m.jsx)(a.iP,{onTap:()=>{j({action:"click",item:"apple-connect-button"});let e=t.state?.next||(0,h.Z)(t),n=e?decodeURIComponent(e):null;(0,d.Nh)(f,n),(0,l.Z)(`https://appleid.apple.com/auth/authorize?client_id=com.pinterest.signinwithapple&redirect_uri=${encodeURIComponent(window.location.origin.toString()+"/oauth/login")}&response_type=${encodeURIComponent("code id_token")}&response_mode=fragment`)},children:(0,m.jsxs)(a.xu,{alignItems:"center",color:"dark",display:"flex",height:40,paddingX:2,paddingY:1,rounding:"pill",width:"100%",children:[(0,m.jsx)(a.xu,{marginStart:-3,marginTop:-2,children:s.Z}),(0,m.jsx)(a.xu,{marginEnd:"auto",marginStart:"auto",children:(0,m.jsx)(a.xv,{color:"light",weight:"bold",children:e.bt("Continue with Apple", "Continue with Apple", "mweb.unauth.oauth_apple_login.login_button", undefined, true)})})]})})}},45719:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(883119),a=n(758339),l=n(144326),s=n(1006),r=n(785893);function c({onDismiss:e}){let t=(0,l.ZP)();(0,i.useEffect)(()=>{(0,s.My)("unauth_mweb.login_rate_limited.view")},[]);let n=t.bt("Too many login attempts", "Oops! Too many login attempts", "LoginRateLimitedModal.Modal.Heading", undefined, true);return(0,r.jsxs)(a.ZP,{accessibilityModalLabel:n,heading:(0,r.jsxs)(o.xu,{"data-test-id":"login-rate-limited-header",children:[(0,r.jsx)(o.xu,{display:"flex",justifyContent:"center",padding:6,children:(0,r.jsx)(o.JO,{accessibilityLabel:t.bt("Pinterest logo", "Pinterest logo", "Accessibility label for Pinterest icon", undefined, true),color:"brandPrimary",icon:"pinterest",size:40})}),(0,r.jsx)(o.X6,{accessibilityLevel:1,align:"center",size:"500",children:n})]}),isOpen:!0,onDismiss:e,children:[(0,r.jsx)(o.xu,{"data-test-id":"login-rate-limited-text",marginBottom:8,marginTop:4,paddingX:12,children:(0,r.jsx)(o.xv,{align:"center",children:t.bt("You have reached the maximum number of login attempts. Try again in 30 minutes.", "You have reached the maximum number of login attempts. Try again in 30 minutes.", "LoginRateLimitedModal.Modal.Heading", undefined, true)})}),(0,r.jsx)(o.xu,{"data-test-id":"login-rate-limited-footer",marginBottom:8,paddingX:12,children:(0,r.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:e,text:t.bt("OK", "Okay", "LoginRateLimitedModal.Modal.OkButton", undefined, true)})})]})}},171707:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),o=n(883119),a=n(459870),l=n(894789),s=n(391731),r=n(260134),c=n(297728),d=n(730212),u=n(1006),_=n(154785),p=n(634757),h=n(144326),g=n(297726),m=n(244734),f=n(785893);function b(){let e=(0,h.ZP)(),[t,n]=(0,i.useState)();return(0,g.q)()?null:(0,f.jsxs)(o.xu,{position:"relative",children:[(0,f.jsx)(o.iP,{onTap:()=>n(!0),children:(0,f.jsxs)(o.xu,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",position:"relative",rounding:"pill",children:[(0,f.jsx)(o.xu,{height:24,marginTop:1,width:24,children:(0,f.jsx)(p.Z,{size:20})}),(0,f.jsx)(o.xu,{marginStart:2,children:(0,f.jsx)(o.xv,{weight:"bold",children:e.bt("Connect with Google", "Connect with Google", "googleConnectButtonWithDisabledSDK.buttonText", undefined, true)})})]})}),t&&(0,f.jsx)(m.Z,{onDismiss:()=>n(!1),type:"google"})]})}function x({onGoogleConnectSuccess:e,onTouch:t}){let{locale:n}=(0,d.B)(),c=(0,i.useRef)(null),p=(0,r.M)(),h=(0,i.useRef)(e),g=(0,_.Z)(),m=(0,a.Z)();return(0,i.useEffect)(()=>{h.current=e},[e]),(0,i.useEffect)(()=>{let e=({credential:e,select_by:t})=>{(0,u.My)(`unauth_mweb.gsi_button.select_by.${t}`),(0,u.NC)("press_google_connect_button");let n=(0,l.Z)(e);h.current({google_open_id_token:e,autologin:!1},{type:"google",google_open_id_token:e,first_name:n.given_name,last_name:n.family_name,image_url:n.picture})};return(async()=>{await p?.ensureInit("button",e),(0,s.ru)({buttonRef:c,isDesktop:!1,isVisualRefreshEnabled:m,locale:n,onTouch:t})})(),()=>{p?.removeButtonCallback(e)}},[p,m,n]),(0,f.jsx)(o.xu,{position:"relative",children:(0,f.jsx)(o.iP,{onTap:()=>{g({action:"click",item:"google-connect-button"}),(0,u.EX)({event:"start",provider:"google"})},children:(0,f.jsx)(o.xu,{"aria-label":"GOOGLE_SIGNIN_BUTTON",height:44,children:(0,f.jsx)(o.xu,{ref:c,width:"100%"})})})})}function y({onGoogleConnectSuccess:e,onTouch:t}){let{checkExperiment:n}=(0,c.F)(),{anyEnabled:i}=n("mweb_google_disabled");return i?(0,f.jsx)(b,{}):(0,f.jsx)(x,{onGoogleConnectSuccess:e,onTouch:t})}},249997:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),o=n(883119),a=n(934980),l=n(512541);let s={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",purple:"#B469EB"},r="DelightfulBubbles__",c=(e,t)=>{let n=e.length,i=e.indexOf(t)+1>=n?0:e.indexOf(t)+1;return e[i]},d=[`${r}fadeIn {
  to {
    opacity: 1;
  }
}
`,`${r}growShrink {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1);
  }
  100% {
    transform: scale(0);
  }
}
`,`${r}swirl {
  0% {
    transform: rotate(0deg) translateX(-50%);
  }
  100% {
    transform: rotate(-360deg) translateX(-50%);
  }
}
`,...(()=>{let e=Object.keys(s);return e.map(t=>{let n=c(e,t);return`${r}colorChange_${t} {
      0% {
        background-color: ${s[t]};
      }
      50% {
        background-color: ${s[n]};
      }
    }
    `})})()],u=(0,a.Ll)(d),_=(e,t,n,i,o,a,l,c)=>({bubblePositionStyles:{position:"absolute",marginLeft:`${a/2-o}px`,marginTop:`${n/2-o}px`,left:`${l}px`,top:`${c}px`},bubbleSwirlStyles:{animation:`${r}swirl 6s ease-in-out ${e}s infinite forwards`,WebkitAnimation:`${r}swirl 6s ease-in-out ${e}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${r}growShrink 6s ease-in-out ${e}s infinite alternate`,WebkitAnimation:`${r}growShrink 6s ease-in-out ${e}s infinite alternate`},bubbleShapeStyles:{height:`${t}px`,width:`${t}px`,borderRadius:"50%",backgroundColor:s[i],opacity:0,animation:`${r}colorChange_${i} 12s steps(1, start) ${e}s infinite forwards,
      ${r}fadeIn 3s linear ${e}s 1 forwards`,WebkitAnimation:`${r}colorChange_${i} 12s steps(1, start) ${e}s infinite forwards,
      ${r}fadeIn 3s linear ${e}s 1 forwards`}});var p=n(785893);function h(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=e=>{let{delay:t,diameter:n,height:i,initialColor:a,width:l,xOffset:s,yOffset:r}=e,c=Math.floor(n/2),d=_(t,n,i,a,c,l,s,r);return(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:d.bubblePositionStyles},children:(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:d.bubbleSwirlStyles},children:(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:d.bubbleGrowShrinkStyles},children:(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:d.bubbleShapeStyles}})})})})};class m extends i.Component{constructor(...e){super(...e),h(this,"state",{isInitialized:!1})}componentDidMount(){window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}shouldComponentUpdate(e,t){return e.numBubbles!==this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){let{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){let{delayFactor:n,delayOffset:i,numBubbles:o,xRadiusAdjustment:l,yRadiusAdjustment:r}=this.props,c=e+2*r,d=t+2*l,u=[],_=Object.keys(s);for(let l=0;l<o;l+=1){let o=16+(0,a.XF)(-4,4),s=_[l%_.length],{x:r,y:h}=(0,a.CC)(c,d);u.push((0,p.jsx)(g,{delay:l*n+i,diameter:o,height:e,initialColor:s,width:t,xOffset:r,yOffset:h},l))}return u}render(){let{isDesktop:e}=this.props,{height:t,width:n}=this.getSize();return(0,p.jsxs)(o.xu,{height:t,position:"relative",width:n,children:[(0,p.jsx)(l.Z,{unsafeCSS:u}),(0,p.jsxs)(o.xu,{ref:e=>this.containerElement=e,position:e?void 0:"absolute",children:[this.state.isInitialized&&this.createBubbles(t||0,n||0),(0,p.jsx)(o.xu,{position:"relative",children:this.props.children})]})]})}}h(m,"defaultProps",{numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});let f=m},578266:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(883119),a=n(952522),l=n(212515),s=n(144326),r=n(730212),c=n(343931),d=n(249997),u=n(844745),_=n(785893);function p({isReducedHeader:e,progressBarAnimationDuration:t,showConsistentSteps:n}){let p=(0,s.ZP)(),{country:h}=(0,r.B)(),g=(0,u.Z)(h);return(0,_.jsx)(i.Fragment,{children:g?(0,_.jsx)(l.Z,{log:{view_type:10,view_parameter:259},children:(0,_.jsxs)(o.xu,{bottom:!0,color:"default",left:!0,position:"fixed",right:!0,top:!0,width:"100%",children:[(0,_.jsx)(a.Z,{color:"dark",duration:t||3e3,finalProgress:95}),(0,_.jsxs)(o.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,_.jsxs)(o.xu,{"data-test-id":"account-creation-heading",margin:n?0:10,marginStart:n?4:0,marginTop:n?16:0,children:[(0,_.jsx)(o.X6,{overflow:"normal",size:e||n?"500":"600",children:p.bt("Your account is being created.", "Your account is being created!", "account created heading", undefined, true)}),(0,_.jsx)(o.xu,{marginTop:n?1:0,children:(0,_.jsx)(o.xv,{overflow:"normal",children:p.bt("You can now save ideas, get personalised recommendations and more", "You can now save ideas, get personalized recommendations, and more", "loading state description while waiting for any sign up registration to complete", undefined, true)})})]}),(0,_.jsx)(o.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,_.jsx)(d.Z,{delayOffset:-5,isDesktop:!1,xRadiusAdjustment:40,yRadiusAdjustment:40,children:(0,_.jsx)(o.xu,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:120,justifyContent:"end",overflow:"hidden",rounding:"circle",width:120,children:(0,_.jsx)(o.JO,{accessibilityLabel:p.bt("Loading", "Loading", "Loading state for any sign up registration", undefined, true),color:"subtle",icon:"person",size:"90"})})})})]})]})}):(0,_.jsx)(c.Z,{})})}},844745:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(116897);let o=e=>new Set([...i.EU,...i.rT,...i.IO]).has(e)},804576:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(116897);let o=(e,t,n)=>!t&&!n&&i.ZR.has(e)},72766:(e,t,n)=>{n.d(t,{f:()=>E,l:()=>L});var i=n(667294),o=n(545007),a=n(191855),l=n(252071),s=n(609326),r=n(488792),c=n(914896),d=n(418256),u=n(744920),_=n(591692),p=n(887103),h=n(76367),g=n(297728),m=n(484777),f=n(103741),b=n(730212),x=n(235581),y=n(864723),w=n(786525),v=n(1006),j=n(711120),k=n(356801),P=n(116897),S=n(728891),A=n(715153),C=n(227984),Z=n(814779),z=n(592305),T=n(415787);let I=e=>({type:"AUTHENTICATE_USER",payload:{user:e}}),E=()=>{let e=(0,r.Z)(),t=(0,g.F)(),n=(0,o.I0)(),{country:E,countryFromHostName:L,countryFromIp:M,regionFromIp:B,userAgent:{isTablet:O,isMobile:R}}=(0,b.B)(),F=(0,m.Z)(),U=(0,j.Z)();return(0,i.useCallback)(async(i,o,r="/",g={isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other",accountUnlinked:!1},m)=>{F();let b=!O&&!R,{isAutologin:j,isSwitchAccount:$,noLocationReplace:D,recaptchaV3Token:N,noImmediateRedirect:H,useAlternativeResourceCall:G,trigger:W,accountUnlinked:X}=g;(0,y.M0)().setItem(s.V6,(0,h.nY)(i));let Y=t=>{e({...m,event_type:t,aux_data:{...m.aux_data,upsell_reason:m.aux_data?.upsell_reason||(j?"autologin":(0,y.M0)().getItem(s.bg)),upsell_view_count:(0,y.M0)().getItem(s.w0)??0}}),7536===t&&(0,y.M0)().setItem(s.w0,0)},J={get_user:!0,...i,app_type_from_client:6,recaptchaV3Token:N},K=(0,z.t_)();K&&(J={...J,visited_pages_before_login:K});let q=(0,C.O)();q&&(J={...J,referrer:q});let V=l.Z.create("UserSessionResource",J).callCreate();if(G&&i.username_or_email&&i.password){let e=new FormData;e.append("username",i.username_or_email),e.append("password",i.password),V=fetch("/resource/UserSessionResource/create/",{method:"POST",body:e,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":(0,d._V)()||"","X-Requested-With":"XMLHttpRequest"}}).then(e=>{if(200!==e.status)throw Error(e.statusText);return e.json()}).catch(e=>Promise.reject(e))}try{j?(0,v.dy)({event:"login_api_call_start",provider:i.google_open_id_token?"google":"facebook"}):(0,v.EX)({event:"login_api_call_start",provider:(0,h.nY)(i)}),Y(7534),U({action:j?"autologin":"login",event:"attempt",type:(0,h.lp)(i),trigger:W});let e=await V;j?(0,v.dy)({event:"login_api_call_success",provider:i.google_open_id_token?"google":"facebook"}):(0,v.EX)({event:"login_api_call_success",provider:(0,h.nY)(i)}),n(I(e.resource_response.data.user));let l=e.client_context,s=e.resource_response.data.user.gatekeeper_experiments;if(s){let{active:e,triggerable:n}=s;e&&n||(0,T.nP)("webapp.authentication.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!e),triggerable:String(!!n)}}),t.updateExperiments(e,n)}else(0,T.nP)("webapp.authentication.updateExperimentsFailed");l&&l.placed_experiences&&n((0,u.OD)(l.placed_experiences)),(0,S.Z)("authentication.login_success"),h.ZP.storeLoginCredentialsToBrowser(i),Y(7536),U({action:j?"autologin":"login",event:"success",type:(0,h.lp)(i),trigger:W}),(0,_.Z)(),c.zN(a.e7.name),c.zN(a.x3.name),(0,w.Nh)(P.AA,1),"/"!==r&&(0,Z.E)(!0),$?(0,x.Z)().then(()=>{let t=`/${e.resource_response.data?.user.username||""}`+(X?`?message=${p.aU}`:"");window.location.href=t}):j&&!b||H||(!i.google_open_id_token&&b&&t.checkExperiment("dweb_arr_modal_post_fb_login").anyEnabled&&(0,k.I9)(),(0,A._)({forceFullPageNavigation:b,history:o,next:r,noLocationReplace:D,origin:window.location.toString()})),"facebook"===(0,h.nY)(i)&&!b&&t.checkExperiment("mweb_arr_modal_post_fb_login").anyEnabled&&(0,k.I9)(),(0,f.ko)({country:E,countryFromHostName:L,countryFromIp:M,regionFromIp:B,deviceType:"Mobile",eventCategory:"Logins"})}catch(e){if(j?(0,v.dy)({event:"login_api_call_failure",provider:i.google_open_id_token?"google":"facebook"}):(0,v.EX)({event:"login_api_call_failure",provider:(0,h.nY)(i)}),1201!==e.api_error_code||j||b)throw Y(7535),U({action:j?"autologin":"login",event:"fail",type:(0,h.lp)(i),trigger:W}),$&&(0,S.Z)("authentication.login_error"),e;if(o){let t={creds:i,next:r,phoneNumber:e?.data?.phone_number_end};o.push({pathname:"/login/mfa/",state:t})}}},[n,E,L,M,F,t,R,O,e,B,U])},L=()=>{let e=(0,g.F)(),t=(0,o.I0)(),n=(0,m.Z)();return({client_context:i,resource_response:o})=>{let{data:a}=o;a&&(n(),t(I(a.user)));let l=a.user.gatekeeper_experiments;if(l){let{active:t,triggerable:n}=l;t&&n||(0,T.nP)("webapp.crossDomainAutologin.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!n)}}),e.updateExperiments(t,n)}else(0,T.nP)("webapp.crossDomainAutologin.updateExperimentsFailed");i&&t((0,u.OD)(i.placed_experiences))}}},834945:(e,t,n)=>{n.d(t,{m:()=>T});var i=n(545007),o=n(191855),a=n(252071),l=n(609326),s=n(259232),r=n(488792),c=n(914896),d=n(194093),u=n(744920),_=n(591692),p=n(677657),h=n(267005),g=n(844543),m=n(297728),f=n(484777),b=n(103741),x=n(730212),y=n(235581),w=n(864723),v=n(978993),j=n(1006),k=n(711120),P=n(728891),S=n(227984),A=n(844745),C=n(592305),Z=n(415787);let z=e=>({type:"REGISTER_USER",payload:{user:e}}),T=()=>{let e=(0,m.F)(),t=(0,i.I0)(),{country:n,countryFromHostName:T,countryFromIp:I,regionFromIp:E,isAuthenticated:L}=(0,x.B)(),M=(0,f.Z)(),B=(0,r.Z)(),O=(0,k.Z)();return(i,{signupAttemptContextEvent:r})=>{let m=(0,g.yV)(i),f=(0,w.M0)(),x=e=>{B({...r,event_type:e,aux_data:{...r.aux_data,upsell_reason:r.aux_data?.upsell_reason||f.getItem(l.bg)||null,upsell_view_count:f.getItem(l.w0)||0}}),7487===e&&f.setItem(l.w0,0)};x(7537),O({action:"signup",event:"attempt",type:m}),M();let k=0,R=(0,A.Z)(n),F=new Promise(e=>{R?setTimeout(()=>{e(void 0)},3e3):e(void 0)});return new Promise((r,f)=>{let A=()=>{let M=(0,C.t_)(),B=(0,S.O)(),R={...i,user_behavior_data:function(){let e=(0,w.M0)().getItem(l.E9);return JSON.stringify(e?{LOCALSTORAGE_UNAUTH_TOPICS_FOLLOWED:e}:{})}(),visited_pages:M},U=(0,p.Z)({checkExperiment:e.checkExperiment});U.length>0&&(R={...R,privacy_disclaimer_acknowledge:U}),B&&(R={...R,referrer:B}),(0,Z.nP)("webapp.debug_signup_type.redux_registration",{sampleRate:1,tags:{CHECK_TYPE:(0,g.Eh)(R,"CHECK_TYPE")??"none",CHECK_EXISTS:(0,g.Eh)(R,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,g.Eh)(R,"DEPRECATED_CHECK_TRUTHY")}}),a.Z.create("UserRegisterResource",{...R,get_user:!0}).callCreate().then(o=>F.then(()=>{(0,v.L_)("d_pif_invite");let a=o.client_context;t(z(o.resource_response.data.user));let l=o.resource_response.data.user.gatekeeper_experiments;if(l){let{active:t,triggerable:n}=l;t&&n||(0,Z.nP)("webapp.registration.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!n)}}),e.updateExperiments(t,n)}else(0,Z.nP)("webapp.registration.updateExperimentsFailed");a&&a.placed_experiences&&t((0,u.OD)(a.placed_experiences)),L&&(0,P.Z)("registration.signup_success");let{email:c,username:d,password:p}=i,h=c||d||null,g=p||null,{credentials:f}=navigator;if(f&&h&&g)try{let e=new window.PasswordCredential({id:h,password:g});(0,j.My)("unauth_mweb.navigatorCredentials.store.attempt"),f.store(e).then(()=>{(0,j.My)("unauth_mweb.navigatorCredentials.store.success")})}catch(e){(0,j.My)("unauth_mweb.navigatorCredentials.store.error")}x(7487),O({action:"signup",event:"success",type:m}),(0,s.Z)(),(0,_.Z)(!0),L&&(0,y.Z)(),(0,b.ko)({country:n,countryFromHostName:T,countryFromIp:I,regionFromIp:E,deviceType:"Mobile",eventCategory:"NewUsers"}),r()})).catch(e=>{let t=(0,d.Z)(e,"api_error_code");t===h.tz&&((0,j.My)("multi_step_set_age_restrict_cookie"),c.t8(o.It,"1",(0,c.kZ)(o.It))),k<3&&[h.dO,h.cZ].includes(t??0)?(k+=1,A()):(x(7488),O({action:"signup",event:"fail",type:m}),L&&(0,P.Z)("registration.signup_error"),f(e))})};A()})}}},887525:(e,t,n)=>{n.d(t,{Z:()=>i});let i=(0,n(442279).P1)(e=>e.boards,e=>Object.keys(e).reduce((t,n)=>{let i=e[n];t[i.url??""]=i;let{oldSlugUrl:o}=i;return o&&(t[o]=i),t},{}))},244734:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),o=n(758339),a=n(144326),l=n(785893);function s({type:e,onDismiss:t}){let n=(0,a.ZP)(),s="facebook"===e?n.bt("Facebook isn't available", "Oops! Facebook isn't available", "socialAuthDisabled.facebook.title", undefined, true):n.bt("Google isn't available", "Oops! Google isn't available", "socialAuthDisabled.google.title", undefined, true),r="facebook"===e?n.bt("It looks as though Facebook isn't available at the moment. Give another option a try or refresh the page and try again later.", "Looks like Facebook isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.facebook.description", undefined, true):n.bt("It looks as though Google isn't available at the moment. Give another option a try or refresh the page and try again later.", "Looks like Google isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.google.description", undefined, true);return(0,l.jsx)(o.ZP,{accessibilityModalLabel:"",isOpen:!0,mobileHideCloseIcon:!0,onDismiss:t,type:"social_auth_disabled_modal",children:(0,l.jsxs)(i.xu,{padding:5,children:[(0,l.jsx)(i.xu,{marginBottom:3,children:(0,l.jsx)(i.X6,{accessibilityLevel:1,size:"500",children:s})}),(0,l.jsx)(i.xu,{marginBottom:3,children:(0,l.jsx)(i.xv,{children:r})}),(0,l.jsx)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,l.jsx)(i.xu,{paddingY:1,children:(0,l.jsx)(i.zx,{accessibilityLabel:n.bt("OK", "OK", "socialAuthDisabled.okButton", undefined, true),color:"red",onClick:t,size:"lg",text:n.bt("OK", "OK", "socialAuthDisabled.okButton", undefined, true)})})})]})})}},1856:(e,t,n)=>{n.d(t,{Z:()=>G});var i=n(667294),o=n(545007),a=n(616550),l=n(883119),s=n(279812),r=n(488792),c=n(644845),d=n(194093),u=n(476198),_=n(144326),p=n(267005),h=n(719174),g=n(844543),m=n(765963),f=n(297728),b=n(730212),x=n(1006),y=n(154785),w=n(896612),v=n(901450),j=n(383399),k=n(343931),P=n(430575),S=n(459870),A=n(369081),C=n(244734),Z=n(785893);let z="rgb(0, 116, 232)";function T(e){let t=(0,i.useRef)(null),n=(0,_.ZP)(),{locale:o}=(0,b.B)(),{checkExperiment:a}=(0,f.F)(),{anyEnabled:s}=a("mweb_facebook_disabled"),r=(0,S.Z)(),c=a("mweb_unauth_turn_on_personalized_fb_button").anyEnabled?"true":void 0,[d,u]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!1);(0,i.useEffect)(()=>{s||(t.current&&(t.current.style.backgroundColor=z),(async()=>{await (0,A.we)(o),u(!0)})(),(0,x.My)("pcons.facebook_connect_button_renderd"))},[o,s]);let g=()=>{(0,x.EX)({event:"start",provider:"facebook"}),e.onTouch(),s?h(!0):d&&(async()=>{try{let{creds:t,signupOptions:n}=await (0,A.JF)();e.onConnectSuccess(t,n)}catch(t){e.onConnectError()}})()};return(0,Z.jsxs)(l.xu,{"data-test-id":"FacebookConnectContainer",position:"relative",width:"100%",children:[(0,Z.jsx)(()=>(0,Z.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},left:!0,position:"absolute",right:!0,rounding:5,top:!0,children:(0,Z.jsx)("div",{className:"fb-login-button","data-auth-type":e.isRerequest?"rerequest":void 0,"data-auto-logout-link":"false","data-button-type":"continue_with","data-layout":r?"default":"rounded","data-max-rows":"1","data-scope":(0,A._V)().join(","),"data-show-faces":"false","data-size":"large","data-use-continue-as":c,"data-width":"100%"})}),{}),(0,Z.jsx)(l.iP,{"data-test-id":"FacebookConnectButton",fullWidth:!0,onTap:()=>g(),children:(0,Z.jsx)(l.xu,{ref:t,height:40,paddingX:3,rounding:r?1:"pill",width:"100%",children:(0,Z.jsxs)(l.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:[(0,Z.jsx)(()=>{let e=(0,i.useRef)(null),t="facebook";return(0,i.useEffect)(()=>{if(e.current){let n=e.current.children||[],i=Array.prototype.find.call(n,e=>e.ariaLabel===t);i&&(i.style.color=z)}}),(0,Z.jsx)(l.xu,{ref:e,color:"light",dangerouslySetInlineStyle:{__style:{paddingTop:"5px",paddingLeft:"3px",paddingRight:"2px"}},marginEnd:1,rounding:"circle",children:(0,Z.jsx)(l.JO,{accessibilityLabel:n.bt("Facebook", "facebook", "accessible label for facebook icon", undefined, true),icon:t,size:19})})},{}),(0,Z.jsx)(l.xv,{color:"light",size:"300",weight:"bold",children:n.bt("Continue with Facebook", "Continue with Facebook", "Login page button", undefined, true)})]})})}),p&&(0,Z.jsx)(C.Z,{onDismiss:()=>h(!1),type:"facebook"})]})}var I=n(863266);function E(e){let t=(0,_.ZP)(),{locale:n}=(0,b.B)();return(0,Z.jsx)(l.iP,{fullWidth:!0,onTap:()=>{e.onTouch(),(0,I.Z)(n,{success:t=>"line_id_token"in t?e.onConnectSuccess(t,{...t,type:"line"}):null,error:e.onConnectError})},children:(0,Z.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#00C300"}},"data-test-id":"LineConnectContainer",height:40,paddingX:3,rounding:"pill",children:(0,Z.jsxs)(l.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,Z.jsx)(l.xu,{height:32,width:32,children:(0,Z.jsx)(l.Ee,{alt:t.bt("line", "line", "accessible label for line icon", undefined, true),naturalHeight:32,naturalWidth:32,src:"https://s.pinimg.com/webapp/btn_base-a34b3f23.png"})}),(0,Z.jsx)(l.xv,{color:"light",size:"300",weight:"bold",children:t.bt("Continue with LINE", "Continue with LINE", "Login page button", undefined, true)})]})})})}var L=n(45719),M=n(171707),B=n(578266),O=n(72766),R=n(834945),F=n(335108),U=n(812477),$=n(904945);function D({app_upsell_type:e}){let t=(0,_.ZP)(),n=(0,a.TH)(),{userAgent:{platform:i}}=(0,b.B)(),o=(0,y.Z)(),{trackConversionUpsell:s}=(0,w.Z)(),{pathname:r}=n;return(0,Z.jsx)(l.xu,{"data-test-id":"continue-app-button",marginBottom:2,children:(0,Z.jsx)($.Z,{app_upsell_type:e??"unauth-signup-modal",componentType:13858,children:({handleOpenApp:a})=>(0,Z.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:()=>{s({element:10308,eventType:14689}),o({action:"click",item:"handle-open-app-button",within:"homepage_top_module"===e?"homepage-top-section":"homepage-bottom-section"}),r&&a({deepLinkUri:"/"===r?"/":(0,U.Z)(n)&&("ios"===i||"ipad"===i)?"user"+r:r.substr(1)})},text:t.bt("Get Pinterest app", "Get Pinterest App", "unauth.modal.get_app.button_text", undefined, true)})})})}var N=n(748327),H=n(803792);function G({apple:e,facebook:t,fbConnectHandler:n,footer:S,from:A,google:C,isBusiness:z,isRerequest:I,line:U,next:$="/",noImmediateRedirect:G,disableFBSignup:W,onFacebookTouch:X,onLoginTouch:Y,onSignupTouch:J,showAppInstallButton:K,showEmailButton:q,showTextDivider:V,viewParameter:Q,app_upsell_type:ee,attributionLabel:et,disableGoogleSignup:en}){let ei=(0,a.k6)(),eo=(0,a.TH)(),{country:ea}=(0,b.B)(),el=(0,_.ZP)(),{showToast:es}=(0,v.F9)(),er=(0,r.Z)(),ec=(0,y.Z)(),ed=(0,o.I0)(),eu=(0,O.f)(),e_=(0,H.U)(),{flush:ep}=(0,f.F)(),eh=(0,R.m)(),eg=(0,s.Z)(),{isAuth:em,isLimitedLogin:ef}=(0,j.Z)(),[eb,ex]=(0,i.useState)(null),[ey,ew]=(0,i.useState)(!1),[ev,ej]=(0,i.useState)("default"),{trackConversionUpsell:ek}=(0,w.Z)(),eP="facebook"===ev&&5e3||"google"===ev&&4e3||void 0;(0,i.useEffect)(()=>{e_&&(S&&e_.preload?.(N.ke("login.js")),q&&e_.preload?.(N.ke("signup.js")))},[]);let eS=em?{login_state:ef?h.Z.LIMITED:h.Z.DEFAULT}:Object.freeze({}),eA=e=>{er({view_type:10,view_parameter:Q,element:e,event_type:102,aux_data:eS})},eC=e=>{ek({viewType:10,viewParameter:Q,eventType:14689,element:e})},eZ=(e,t)=>{let n,i;switch(t){case"facebook":n=3205,i=m.Z.FACEBOOK;break;case"google":n=3204,i=m.Z.GPLUS;break;case"line":n=3556,i=m.Z.LINE}return{event_type:e,view_type:10,view_parameter:n,element:i===m.Z.GPLUS?12981:void 0,aux_data:{...eS,signup_login_method:i,upsell_reason:et}}},ez=(e,t,n,i)=>{ex(null);let o=()=>es(({hideToast:e})=>(0,Z.jsx)(u.Z,{onHide:e,text:(0,d.Z)(t,"api_error_code")&&(0,d.Z)(t,"message")||el.bt("Sorry, we can't log you in.", "Sorry, we can't log you in.", "Error message when user having trouble login in.", undefined, true)}));if(t){if((0,x.My)(`unauth_mweb.login_error.api_error_code.${String((0,d.Z)(t,"api_error_code"))}`),[p.xN,p.lg,p.Pv].includes((0,d.Z)(t,"api_error_code")??-1)){if("facebook"===n.type){W?.();return}if(en&&"google"===n.type){(0,x.My)("unauth_mweb.account_recovery.google_account_already_not_linked"),es(({hideToast:e})=>(0,Z.jsx)(u.Z,{onHide:e,text:el.bt("This Google account is not linked to Pinterest. Try another one", "This Google account is not linked to Pinterest. Try another one", "account_recovery.error.google_account_not_linked", undefined, true),type:"error"}));return}(0,x.Rp)({event:"start",provider:i}),(()=>{(0,x.My)("unauth_mweb.facebook_signup_attempt"),n.gender||(0,x.My)("unauth_mweb.facebook_signup_attempt.nogender");let{birthday:e}=n;if(void 0===e||!(0,c.Z)(e)){ep(),ei.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:"facebook"===n.type?{...n,email_source_site:g.E_.FACEBOOK}:n,progressBarAnimationDuration:eP,attributionLabel:et}});return}ex("signup"),ej(i);let t="facebook"===n.type?{...n,email_source_site:g.E_.FACEBOOK,birthday_source_site:g.E_.FACEBOOK,birthday:e}:{...n,birthday:e};(0,x.Rp)({event:"signup_api_call_start",provider:i}),eh(t,{signupAttemptContextEvent:eZ(7537,i)}).then(()=>{(0,x.NC)("signup_via_login_buttons"),(0,x.Rp)({event:"signup_api_call_success",provider:i}),["facebook","google"].includes(i)&&eg($||"/"),ex(null)},e=>{(0,x.Rp)({event:"signup_api_call_failure",provider:i});let t=(0,d.Z)(e,"api_error_code");"line"===n.type&&(t===p.iZ?ei.push({pathname:"/signup/line-email-collect/",state:{signupOptions:n,attributionLabel:et}}):t===p.NF&&ei.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:n,attributionLabel:et}})),es(({hideToast:n})=>(0,Z.jsx)(u.Z,{onHide:n,text:t&&(0,d.Z)(e,"message")||el.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "Error logging on", undefined, true)})),ex(null)})})()}else p.ik.includes((0,d.Z)(t,"api_error_code")??0)&&ew(!0);o()}else(0,x.My)("unauth_mweb.login.unexpected_error"),o()},eT=e=>(t,i)=>{let o="google"===e?"gsi_btn":"other",a=eo.state?.switch_account==="true"?{isSwitchAccount:!0,trigger:o}:{noImmediateRedirect:G,trigger:o};"facebook"===e&&(n?.("success"),(0,x.EX)({event:"receive_credential_response_from_provider",provider:e})),(0,x.NC)(e+"_login_success"),eu(t,ei,$,a,eZ(7534,e)).catch(n=>{ez(t,n,i,e)}),ex("login"),ej(e)},eI=({event:e})=>{e.stopPropagation(),e.preventDefault(),Y?.(),A&&ed((0,F.rm)(A)),ec({action:"click",item:"login-button"}),eA(30),(0,x.My)(`unauth_mweb.login_buttons.footer.${S?.type||"button"}`),(0,x.NC)("press_login"),ek({eventType:14689,element:30,viewType:10,viewParameter:Q}),ek({eventType:14688,component:14213,upsellReason:et,incrementUpsellReasonCounter:!1}),ei.push({pathname:z?"/business/login/":"/login/",search:eo.search,state:{next:$,attributionLabel:et}})};return(0,Z.jsxs)(l.xu,{"data-test-id":"LoginButtonsContainer",marginEnd:"auto",marginStart:"auto",marginTop:z?-5:0,maxWidth:en?502:400,children:[ey&&(0,Z.jsx)(L.Z,{onDismiss:()=>ew(!1)}),V&&(0,Z.jsx)(l.xu,{marginBottom:3,marginTop:3,children:(0,Z.jsx)(l.xv,{align:"center",size:"100",weight:"bold",children:el.bt("Or", "OR", "Separator for email login button and social login button", undefined, true)})}),(0,Z.jsx)(l.xu,{marginBottom:6,children:(0,Z.jsxs)(i.Fragment,{children:[K&&(0,Z.jsx)(D,{app_upsell_type:ee}),q&&(0,Z.jsx)(l.xu,{"data-test-id":"continue-email-button",marginBottom:z?-2:2,children:(0,Z.jsx)(l.zx,{color:K?"gray":"red",fullWidth:!0,onClick:({event:e})=>{e&&(e.stopPropagation(),e.preventDefault()),(0,x.NC)("press_email_signup"),(0,x.Rp)({event:"start",provider:"email"}),ec({action:"click",item:"email-signup-button"}),J?.(),A&&ed((0,F.rm)(A)),eC(13506),eA(31),ek({eventType:14688,component:14215,upsellReason:et,incrementUpsellReasonCounter:!1}),ei.push({pathname:z?"/business/signup/step1/":"/signup/step1/",search:eo.search,state:{next:$,attributionLabel:et}})},text:z?el.bt("Create account", "Create account", "Button text for creating a business account", undefined, true):el.bt("Continue with email", "Continue with email", "Sign up button", undefined, true)})}),t&&(0,Z.jsx)(l.xu,{"data-test-id":"facebook-connect-button",marginBottom:2,children:(0,Z.jsx)(T,{isRerequest:I??!1,onConnectError:()=>{n?.("error"),(0,x.EX)({event:"receive_no_credential_response_from_provider",provider:"facebook"}),es(({hideToast:e})=>(0,Z.jsx)(u.Z,{onHide:e,text:el.bt("Unable to connect to Facebook", "Unable to connect to Facebook", "Error logging on with Facebook", undefined, true)}))},onConnectSuccess:eT("facebook"),onTouch:()=>{X?.(),eC(13505),ec({action:"click",item:"facebook-connect-button"}),eA(68)}})}),C&&(0,Z.jsx)(l.xu,{"data-test-id":"google-connect-button",marginBottom:2,children:(0,Z.jsx)(M.Z,{onGoogleConnectSuccess:eT("google"),onTouch:()=>{eC(13504),en&&er({event_type:15392,component:15214,element:13504})}})}),U&&"JP"===ea&&(0,Z.jsx)(l.xu,{"data-test-id":"line-connect-button",marginBottom:2,children:(0,Z.jsx)(E,{onConnectError:()=>es(({hideToast:e})=>(0,Z.jsx)(u.Z,{onHide:e,text:el.bt("Unable to connect to LINE", "Unable to connect to Line", "Error logging on with Line", undefined, true)})),onConnectSuccess:eT("line"),onTouch:()=>{eC(13507),eA(12277),ec({action:"click",item:"line-connect-button"})}})}),e&&(0,Z.jsx)(l.xu,{"data-test-id":"apple-connect-button",marginBottom:2,children:(0,Z.jsx)(P.Z,{})})]})}),S&&("member_link"===S.type?(0,Z.jsx)(l.xu,{"data-test-id":"login-member",marginTop:S.isUnauthHomepageOnMobile?10:-4,children:(0,Z.jsx)(l.iP,{onTap:({event:e})=>eI({event:e}),tapStyle:"none",children:(0,Z.jsx)(l.xu,{marginBottom:S.increasedSpaceBelow?-1:-2,paddingY:S.noPadding?0:4,children:(0,Z.jsx)(l.xv,{align:"center",color:S.textColorIsLight?"light":"default",size:"200",weight:"bold",children:el.bt("Already a member? Log in", "Already a member? Log in", "Link on mobile web sign up modal to direct unauth users to the login page", undefined, true)})})})}):(0,Z.jsx)(l.xu,{"data-test-id":"login-button",marginBottom:5,children:(0,Z.jsx)(l.zx,{color:"transparent",fullWidth:!0,onClick:eI,text:el.bt("Log in", "Log in", "Login page button", undefined, true)})})),eb&&("signup"===eb?(0,Z.jsx)(B.Z,{progressBarAnimationDuration:eP}):(0,Z.jsx)(k.Z,{}))]})}},191512:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(883119),o=n(488792),a=n(477058),l=n(793874),s=n(144326),r=n(240760),c=n(297728),d=n(635258),u=n(154785),_=n(785893);function p({isMobileHomepage:e,isBusiness:t=!1,alignText:n="center",isSignupStep:p=!1}){let h=(0,s.ZP)(),g=(0,o.Z)(),m=(0,u.Z)(),{checkExperiment:f}=(0,c.F)(),{viewType:b,viewParameter:x}=(0,a.SU)(),y=(0,l.vs)(),w=e?"default":"subtle";!y&&e&&(w="inverse");let v=p&&f("fdbr_teen_compliance").anyEnabled;return(0,_.jsx)(i.xu,{alignItems:"left"===n?"start":"center",alignSelf:"center","data-test-id":"business-terms-of-service",direction:"row",display:"flex",justifyContent:"center",paddingX:4,wrap:!0,children:(0,_.jsx)(i.xv,{align:"left"===n?"start":"center",color:w,inline:!0,overflow:"normal",size:"100",children:v?(0,r.XB)({text:t?h.bt("By continuing, you agree to Pinterest's <a id=\"1\">Business Terms of Service</a> and acknowledge that you've read our <a id=\"2\">Privacy Policy</a>. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can <a id=\"3\">delete your account</a>.", "By continuing, you agree to Pinterest's <a id=\"1\">Business Terms of Service</a> and acknowledge you've read our <a id=\"2\">Privacy Policy</a>. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can <a id=\"3\">delete your account</a>.", "termOfService.business.text.floridaCompliance", undefined, true):h.bt("By continuing, you agree to Pinterest's <a id=\"1\">Terms of Service</a> and acknowledge that you've read our <a id=\"2\">Privacy Policy</a>. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can <a id=\"3\">delete your account</a>.", "By continuing, you agree to Pinterest's <a id=\"1\">Terms of Service</a> and acknowledge you've read our <a id=\"2\">Privacy Policy</a>. If you're a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can <a id=\"3\">delete your account</a>.", "termOfService.text.floridaCompliance", undefined, true),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,_.jsx)(i.rU,{dataTestId:"business-tos",display:"inline",href:t?d.V$B:d.U5h,onClick:()=>{m({action:"click",item:"business-tos"}),b&&g({view_type:b,view_parameter:x,element:8012,event_type:102})},target:"blank",children:e},"termsOfService"),2:({innerHtmlStrings:e})=>(0,_.jsx)(i.rU,{dataTestId:"privacy",display:"inline",href:d.R_9,onClick:()=>{m({action:"click",item:"privacy-policy"}),b&&g({view_type:b,view_parameter:x,element:8004,event_type:102})},target:"blank",children:e},"privacyPolicy"),3:({innerHtmlStrings:e})=>(0,_.jsx)(i.rU,{dataTestId:"deleteYourAccount",display:"inline",href:d.QA0,target:"blank",children:e},"deleteYourAccount")}}):(0,r.XB)({text:t?h.bt("By continuing, you agree to Pinterest's <a id=\"1\">Business Terms of Service</a> and acknowledge that you've read our <a id=\"2\">Privacy Policy</a>. <a id=\"3\">Notice at collection</a>.", "By continuing, you agree to Pinterest's <a id=\"1\">Business Terms of Service</a> and acknowledge you've read our <a id=\"2\">Privacy Policy</a>. <a id=\"3\">Notice at collection</a>.", "termOfService.business.text.default", undefined, true):h.bt("By continuing, you agree to Pinterest's <a id=\"1\">Terms of Service</a> and acknowledge that you've read our <a id=\"2\">Privacy Policy</a>. <a id=\"3\">Notice at collection</a>.", "By continuing, you agree to Pinterest's <a id=\"1\">Terms of Service</a> and acknowledge you've read our <a id=\"2\">Privacy Policy</a>. <a id=\"3\">Notice at collection</a>.", "termOfService.text.default", undefined, true),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,_.jsx)(i.rU,{dataTestId:"business-tos",display:"inline",href:t?d.V$B:d.U5h,onClick:()=>{m({action:"click",item:"business-tos"}),b&&g({view_type:b,view_parameter:x,element:8012,event_type:102})},target:"blank",children:e},"termsOfService"),2:({innerHtmlStrings:e})=>(0,_.jsx)(i.rU,{dataTestId:"privacy",display:"inline",href:d.R_9,onClick:()=>{m({action:"click",item:"privacy-policy"}),b&&g({view_type:b,view_parameter:x,element:8004,event_type:102})},target:"blank",children:e},"privacyPolicy"),3:({innerHtmlStrings:e})=>(0,_.jsx)(i.rU,{dataTestId:"noticeAtCollection",display:"inline",href:d.cvl,target:"blank",children:e},"noticeAtCollection")}})})})}},994634:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(545007),o=n(616550),a=n(833602),l=n(282999),s=n(730212),r=n(978993),c=n(410150),d=n(999836),u=n(970067),_=n(872965),p=n(415787);let h=e=>!!(0,a.dh)(e)&&((0,r.qn)("ufausfiiab",null)||((0,p.nP)("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,r.Nh)("ufausfiiab","1")),!0),g=()=>{let{isBot:e}=(0,s.B)(),t=(0,o.TH)(),{userAgentPlatform:n,userAgent:a}=(0,i.v9)(e=>e.session),r=(0,d.Z)();return!((0,c.ml)()&&!r)&&!(0,u.Rp)({isBot:e,platform:n,userAgent:a})&&((0,l.uM)(t)||(0,l.am)(t))&&!(0,_.P)()&&!h(a)}},272873:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(616550),a=n(282999),l=n(812477),s=n(961754),r=n(61218);let c=e=>{let t=(0,r.vE)(),n=(0,o.TH)(),[c]=(0,i.useState)(n),d=n.pathname===c.pathname&&n.search===c.search&&((0,a.ey)(n)&&((0,a.fY)(n)&&"pin"||(0,a.am)(n)&&"board"||(0,l.Z)(n)&&"profile")||null)||null,[u,_]=(0,i.useState)(null),{isLoaded:p,data:h}=(0,s.Z)(!e&&t&&d?{name:"InviteCodeMetadataResource",options:{invite_code:t}}:null);return(0,i.useEffect)(()=>{p&&h&&_(h??null)},[p,h]),t&&d?{invite:u,pageType:d}:null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/app-www-PageWrapper-UnauthPageWrapperFooter.en_IN-e14193e678bee9a2.mjs.map